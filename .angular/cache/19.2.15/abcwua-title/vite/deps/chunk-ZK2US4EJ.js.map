{
  "version": 3,
  "sources": ["../../../../../../node_modules/@aws-amplify/core/dist/esm/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Logger/types.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Logger/ConsoleLogger.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/errors/AmplifyError.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/types/errors.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/errors/createAssertionFunction.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/errors/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Hub/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/globalHelpers/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/convert/base64/base64Decoder.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/Auth/utils/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/Auth/utils/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/getClientInfo/getClientInfo.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/retry/retry.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/deepFreeze.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/parseAWSExports.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/regex.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/validate.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/parse.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/stringify.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/rng.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/md5.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/v35.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/v3.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/native.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/v4.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/sha1.js", "../../../../../../node_modules/@aws-amplify/core/node_modules/uuid/dist/esm-browser/v5.js", "../../../../../../node_modules/@aws-amplify/core/dist/esm/parseAmplifyOutputs.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/parseAmplifyConfig.mjs", "../../../../../../node_modules/@aws-crypto/sha256-js/build/module/constants.js", "../../../../../../node_modules/@aws-crypto/sha256-js/build/module/RawSha256.js", "../../../../../../node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js", "../../../../../../node_modules/@aws-crypto/util/build/module/convertToBuffer.js", "../../../../../../node_modules/@aws-crypto/util/build/module/isEmptyData.js", "../../../../../../node_modules/@aws-crypto/sha256-js/build/module/jsSha256.js", "../../../../../../node_modules/@smithy/util-hex-encoding/dist-es/index.js", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/types.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/version.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/helpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/React.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Vue.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Svelte.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Next.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Nuxt.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Angular.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/ReactNative.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Expo.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/Web.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detection/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/detectFramework.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/customUserAgent.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Platform/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/BackgroundProcessManager/types.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/isWebWorker.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Reachability/Reachability.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/isBrowser.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/sessionListener/SessionListener.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/sessionListener/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/sessionListener/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/Auth/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/Amplify.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/apis/internal/fetchAuthSession.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/apis/fetchAuthSession.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/singleton/apis/clearCredentials.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/serde/responseInfo.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/serde/json.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/internal/composeServiceApi.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/retry/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/retry/jitteredBackoff.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/jitteredBackoff.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/isClockSkewError.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/defaultRetryDecider.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/retryMiddleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/amplifyUuid/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/amzSdkInvocationIdHeaderMiddleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/amzSdkRequestHeaderMiddleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/userAgent/middleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/internal/composeTransferHandler.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/utils/memoization.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/handlers/fetch.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/handlers/aws/unauthenticated.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/middleware/createDisableCacheMiddleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/handler/cognitoIdentityTransferHandler.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/serde/createClientSerializer.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/createGetCredentialsForIdentityClient.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/createGetIdClient.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/endpoints/partitions.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/endpoints/getDnsSuffix.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/amplifyUrl/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/cognitoIdentityPoolEndpointResolver.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/errors/PlatformNotSupportedError.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/KeyValueStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/InMemoryStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/utils.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/DefaultStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/SessionStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/SyncKeyValueStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/SyncSessionStorage.mjs", "../../../../../../node_modules/js-cookie/dist/js.cookie.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/CookieStorage.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/storage/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/utils/cacheHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/utils/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/StorageCacheCommon.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/StorageCache.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/Cache/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/I18n/I18n.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/I18n/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/I18n/index.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/awsClients/pinpoint/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getSignedHeaders.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getCredentialScope.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getFormattedDates.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getSigningValues.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/dataHashHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getCanonicalHeaders.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getCanonicalQueryString.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getCanonicalUri.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getHashedPayload.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getCanonicalRequest.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getSigningKey.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getStringToSign.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/utils/getSignature.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/signer/signatureV4/signRequest.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/utils/getSkewCorrectedDate.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/utils/isClockSkewed.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/utils/getUpdatedSystemClockOffset.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/middleware.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/handlers/aws/authenticated.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/clients/middleware/signing/utils/extendedEncodeURIComponent.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/awsClients/pinpoint/base.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/awsClients/pinpoint/updateEndpoint.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/getCacheKey.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/cacheEndpointId.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/createEndpointId.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/getEndpointId.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/apis/updateEndpoint.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/resolveEndpointId.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/constants.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/utils/haveCredentialsChanged.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/awsClients/pinpoint/putEvents.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/PinpointEventBuffer.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/utils/getEventBuffer.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/apis/record.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/providers/pinpoint/types/errors.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/ServiceWorker/errorHelpers.mjs", "../../../../../../node_modules/@aws-amplify/core/dist/esm/ServiceWorker/ServiceWorker.mjs"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Logging constants\nconst AWS_CLOUDWATCH_CATEGORY = 'Logging';\nconst USER_AGENT_HEADER = 'x-amz-user-agent';\n// Error exception code constants\nconst NO_HUBCALLBACK_PROVIDED_EXCEPTION = 'NoHubcallbackProvidedException';\nexport { AWS_CLOUDWATCH_CATEGORY, NO_HUBCALLBACK_PROVIDED_EXCEPTION, USER_AGENT_HEADER };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar LogType;\n(function (LogType) {\n  LogType[\"DEBUG\"] = \"DEBUG\";\n  LogType[\"ERROR\"] = \"ERROR\";\n  LogType[\"INFO\"] = \"INFO\";\n  LogType[\"WARN\"] = \"WARN\";\n  LogType[\"VERBOSE\"] = \"VERBOSE\";\n  LogType[\"NONE\"] = \"NONE\";\n})(LogType || (LogType = {}));\nexport { LogType };\n", "import { AWS_CLOUDWATCH_CATEGORY } from '../constants.mjs';\nimport { LogType } from './types.mjs';\n\n/* eslint-disable no-console */\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst LOG_LEVELS = {\n  VERBOSE: 1,\n  DEBUG: 2,\n  INFO: 3,\n  WARN: 4,\n  ERROR: 5,\n  NONE: 6\n};\n/**\n * Write logs\n * @class Logger\n */\nclass ConsoleLogger {\n  /**\n   * @constructor\n   * @param {string} name - Name of the logger\n   */\n  constructor(name, level = LogType.WARN) {\n    this.name = name;\n    this.level = level;\n    this._pluggables = [];\n  }\n  _padding(n) {\n    return n < 10 ? '0' + n : '' + n;\n  }\n  _ts() {\n    const dt = new Date();\n    return [this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(':') + '.' + dt.getMilliseconds();\n  }\n  configure(config) {\n    if (!config) return this._config;\n    this._config = config;\n    return this._config;\n  }\n  /**\n   * Write log\n   * @method\n   * @memeberof Logger\n   * @param {LogType|string} type - log type, default INFO\n   * @param {string|object} msg - Logging message or object\n   */\n  _log(type, ...msg) {\n    let loggerLevelName = this.level;\n    if (ConsoleLogger.LOG_LEVEL) {\n      loggerLevelName = ConsoleLogger.LOG_LEVEL;\n    }\n    if (typeof window !== 'undefined' && window.LOG_LEVEL) {\n      loggerLevelName = window.LOG_LEVEL;\n    }\n    const loggerLevel = LOG_LEVELS[loggerLevelName];\n    const typeLevel = LOG_LEVELS[type];\n    if (!(typeLevel >= loggerLevel)) {\n      // Do nothing if type is not greater than or equal to logger level (handle undefined)\n      return;\n    }\n    let log = console.log.bind(console);\n    if (type === LogType.ERROR && console.error) {\n      log = console.error.bind(console);\n    }\n    if (type === LogType.WARN && console.warn) {\n      log = console.warn.bind(console);\n    }\n    if (ConsoleLogger.BIND_ALL_LOG_LEVELS) {\n      if (type === LogType.INFO && console.info) {\n        log = console.info.bind(console);\n      }\n      if (type === LogType.DEBUG && console.debug) {\n        log = console.debug.bind(console);\n      }\n    }\n    const prefix = `[${type}] ${this._ts()} ${this.name}`;\n    let message = '';\n    if (msg.length === 1 && typeof msg[0] === 'string') {\n      message = `${prefix} - ${msg[0]}`;\n      log(message);\n    } else if (msg.length === 1) {\n      message = `${prefix} ${msg[0]}`;\n      log(prefix, msg[0]);\n    } else if (typeof msg[0] === 'string') {\n      let obj = msg.slice(1);\n      if (obj.length === 1) {\n        obj = obj[0];\n      }\n      message = `${prefix} - ${msg[0]} ${obj}`;\n      log(`${prefix} - ${msg[0]}`, obj);\n    } else {\n      message = `${prefix} ${msg}`;\n      log(prefix, msg);\n    }\n    for (const plugin of this._pluggables) {\n      const logEvent = {\n        message,\n        timestamp: Date.now()\n      };\n      plugin.pushLogs([logEvent]);\n    }\n  }\n  /**\n   * Write General log. Default to INFO\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  log(...msg) {\n    this._log(LogType.INFO, ...msg);\n  }\n  /**\n   * Write INFO log\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  info(...msg) {\n    this._log(LogType.INFO, ...msg);\n  }\n  /**\n   * Write WARN log\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  warn(...msg) {\n    this._log(LogType.WARN, ...msg);\n  }\n  /**\n   * Write ERROR log\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  error(...msg) {\n    this._log(LogType.ERROR, ...msg);\n  }\n  /**\n   * Write DEBUG log\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  debug(...msg) {\n    this._log(LogType.DEBUG, ...msg);\n  }\n  /**\n   * Write VERBOSE log\n   * @method\n   * @memeberof Logger\n   * @param {string|object} msg - Logging message or object\n   */\n  verbose(...msg) {\n    this._log(LogType.VERBOSE, ...msg);\n  }\n  addPluggable(pluggable) {\n    if (pluggable && pluggable.getCategoryName() === AWS_CLOUDWATCH_CATEGORY) {\n      this._pluggables.push(pluggable);\n      pluggable.configure(this._config);\n    }\n  }\n  listPluggables() {\n    return this._pluggables;\n  }\n}\nConsoleLogger.LOG_LEVEL = null;\nConsoleLogger.BIND_ALL_LOG_LEVELS = false;\nexport { ConsoleLogger };\n", "class AmplifyError extends Error {\n  /**\n   *  Constructs an AmplifyError.\n   *\n   * @param message text that describes the main problem.\n   * @param underlyingError the underlying cause of the error.\n   * @param recoverySuggestion suggestion to recover from the error.\n   *\n   */\n  constructor({\n    message,\n    name,\n    recoverySuggestion,\n    underlyingError,\n    metadata\n  }) {\n    super(message);\n    this.name = name;\n    this.underlyingError = underlyingError;\n    this.recoverySuggestion = recoverySuggestion;\n    if (metadata) {\n      // If metadata exists, explicitly only record the following properties.\n      const {\n        extendedRequestId,\n        httpStatusCode,\n        requestId\n      } = metadata;\n      this.metadata = {\n        extendedRequestId,\n        httpStatusCode,\n        requestId\n      };\n    }\n    // Hack for making the custom error class work when transpiled to es5\n    // TODO: Delete the following 2 lines after we change the build target to >= es2015\n    this.constructor = AmplifyError;\n    Object.setPrototypeOf(this, AmplifyError.prototype);\n  }\n}\nexport { AmplifyError };\n", "var AmplifyErrorCode;\n(function (AmplifyErrorCode) {\n  AmplifyErrorCode[\"NoEndpointId\"] = \"NoEndpointId\";\n  AmplifyErrorCode[\"PlatformNotSupported\"] = \"PlatformNotSupported\";\n  AmplifyErrorCode[\"Unknown\"] = \"Unknown\";\n  AmplifyErrorCode[\"NetworkError\"] = \"NetworkError\";\n})(AmplifyErrorCode || (AmplifyErrorCode = {}));\nexport { AmplifyErrorCode };\n", "import { AmplifyError } from './AmplifyError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createAssertionFunction = (errorMap, AssertionError = AmplifyError) => (assertion, name, additionalContext) => {\n  const {\n    message,\n    recoverySuggestion\n  } = errorMap[name];\n  if (!assertion) {\n    throw new AssertionError({\n      name,\n      message: additionalContext ? `${message} ${additionalContext}` : message,\n      recoverySuggestion\n    });\n  }\n};\nexport { createAssertionFunction };\n", "import { AmplifyErrorCode } from '../types/errors.mjs';\nimport { createAssertionFunction } from './createAssertionFunction.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst amplifyErrorMap = {\n  [AmplifyErrorCode.NoEndpointId]: {\n    message: 'Endpoint ID was not found and was unable to be created.'\n  },\n  [AmplifyErrorCode.PlatformNotSupported]: {\n    message: 'Function not supported on current platform.'\n  },\n  [AmplifyErrorCode.Unknown]: {\n    message: 'An unknown error occurred.'\n  },\n  [AmplifyErrorCode.NetworkError]: {\n    message: 'A network error has occurred.'\n  }\n};\nconst assert = createAssertionFunction(amplifyErrorMap);\nexport { assert };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { NO_HUBCALLBACK_PROVIDED_EXCEPTION } from '../constants.mjs';\nimport { AmplifyError } from '../errors/AmplifyError.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst AMPLIFY_SYMBOL = typeof Symbol !== 'undefined' ? Symbol('amplify_default') : '@@amplify_default';\nconst logger = new ConsoleLogger('Hub');\nclass HubClass {\n  constructor(name) {\n    this.listeners = new Map();\n    this.protectedChannels = ['core', 'auth', 'api', 'analytics', 'interactions', 'pubsub', 'storage', 'ui', 'xr'];\n    this.name = name;\n  }\n  /**\n   * Used internally to remove a Hub listener.\n   *\n   * @remarks\n   * This private method is for internal use only. Instead of calling Hub.remove, call the result of Hub.listen.\n   */\n  _remove(channel, listener) {\n    const holder = this.listeners.get(channel);\n    if (!holder) {\n      logger.warn(`No listeners for ${channel}`);\n      return;\n    }\n    this.listeners.set(channel, [...holder.filter(({\n      callback\n    }) => callback !== listener)]);\n  }\n  dispatch(channel, payload, source, ampSymbol) {\n    if (typeof channel === 'string' && this.protectedChannels.indexOf(channel) > -1) {\n      const hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n      if (!hasAccess) {\n        logger.warn(`WARNING: ${channel} is protected and dispatching on it can have unintended consequences`);\n      }\n    }\n    const capsule = {\n      channel,\n      payload: {\n        ...payload\n      },\n      source,\n      patternInfo: []\n    };\n    try {\n      this._toListeners(capsule);\n    } catch (e) {\n      logger.error(e);\n    }\n  }\n  listen(channel, callback, listenerName = 'noname') {\n    let cb;\n    if (typeof callback !== 'function') {\n      throw new AmplifyError({\n        name: NO_HUBCALLBACK_PROVIDED_EXCEPTION,\n        message: 'No callback supplied to Hub'\n      });\n    } else {\n      // Needs to be casted as a more generic type\n      cb = callback;\n    }\n    let holder = this.listeners.get(channel);\n    if (!holder) {\n      holder = [];\n      this.listeners.set(channel, holder);\n    }\n    holder.push({\n      name: listenerName,\n      callback: cb\n    });\n    return () => {\n      this._remove(channel, cb);\n    };\n  }\n  _toListeners(capsule) {\n    const {\n      channel,\n      payload\n    } = capsule;\n    const holder = this.listeners.get(channel);\n    if (holder) {\n      holder.forEach(listener => {\n        logger.debug(`Dispatching to ${channel} with `, payload);\n        try {\n          listener.callback(capsule);\n        } catch (e) {\n          logger.error(e);\n        }\n      });\n    }\n  }\n}\n/* We export a __default__ instance of HubClass to use it as a\npseudo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events. */\nconst Hub = new HubClass('__default__');\n/**\n * @internal\n *\n * Internal hub used for core Amplify functionality. Not intended for use outside of Amplify.\n *\n */\nconst HubInternal = new HubClass('internal-hub');\nexport { AMPLIFY_SYMBOL, Hub, HubClass, HubInternal };\n", "import { AmplifyError } from '../../errors/AmplifyError.mjs';\nimport '../../types/errors.mjs';\nimport '../../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst getCrypto = () => {\n  if (typeof window === 'object' && typeof window.crypto === 'object') {\n    return window.crypto;\n  }\n  // Next.js global polyfill\n  if (typeof crypto === 'object') {\n    return crypto;\n  }\n  throw new AmplifyError({\n    name: 'MissingPolyfill',\n    message: 'Cannot resolve the `crypto` function from the environment.'\n  });\n};\nconst getBtoa = () => {\n  // browser\n  if (typeof window !== 'undefined' && typeof window.btoa === 'function') {\n    return window.btoa;\n  }\n  // Next.js global polyfill\n  if (typeof btoa === 'function') {\n    return btoa;\n  }\n  throw new AmplifyError({\n    name: 'Base64EncoderError',\n    message: 'Cannot resolve the `btoa` function from the environment.'\n  });\n};\nconst getAtob = () => {\n  // browser\n  if (typeof window !== 'undefined' && typeof window.atob === 'function') {\n    return window.atob;\n  }\n  // Next.js global polyfill\n  if (typeof atob === 'function') {\n    return atob;\n  }\n  throw new AmplifyError({\n    name: 'Base64EncoderError',\n    message: 'Cannot resolve the `atob` function from the environment.'\n  });\n};\nexport { getAtob, getBtoa, getCrypto };\n", "import { getAtob } from '../../globalHelpers/index.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst base64Decoder = {\n  convert(input, options) {\n    let inputStr = input;\n    // urlSafe character replacement options conform to the base64 url spec\n    // https://datatracker.ietf.org/doc/html/rfc4648#page-7\n    if (options?.urlSafe) {\n      inputStr = inputStr.replace(/-/g, '+').replace(/_/g, '/');\n    }\n    return getAtob()(inputStr);\n  }\n};\nexport { base64Decoder };\n", "import { createAssertionFunction } from '../../../errors/createAssertionFunction.mjs';\nimport '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar AuthConfigurationErrorCode;\n(function (AuthConfigurationErrorCode) {\n  AuthConfigurationErrorCode[\"AuthTokenConfigException\"] = \"AuthTokenConfigException\";\n  AuthConfigurationErrorCode[\"AuthUserPoolAndIdentityPoolException\"] = \"AuthUserPoolAndIdentityPoolException\";\n  AuthConfigurationErrorCode[\"AuthUserPoolException\"] = \"AuthUserPoolException\";\n  AuthConfigurationErrorCode[\"InvalidIdentityPoolIdException\"] = \"InvalidIdentityPoolIdException\";\n  AuthConfigurationErrorCode[\"OAuthNotConfigureException\"] = \"OAuthNotConfigureException\";\n})(AuthConfigurationErrorCode || (AuthConfigurationErrorCode = {}));\nconst authConfigurationErrorMap = {\n  [AuthConfigurationErrorCode.AuthTokenConfigException]: {\n    message: 'Auth Token Provider not configured.',\n    recoverySuggestion: 'Make sure to call Amplify.configure in your app.'\n  },\n  [AuthConfigurationErrorCode.AuthUserPoolAndIdentityPoolException]: {\n    message: 'Auth UserPool or IdentityPool not configured.',\n    recoverySuggestion: 'Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId.'\n  },\n  [AuthConfigurationErrorCode.AuthUserPoolException]: {\n    message: 'Auth UserPool not configured.',\n    recoverySuggestion: 'Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId.'\n  },\n  [AuthConfigurationErrorCode.InvalidIdentityPoolIdException]: {\n    message: 'Invalid identity pool id provided.',\n    recoverySuggestion: 'Make sure a valid identityPoolId is given in the config.'\n  },\n  [AuthConfigurationErrorCode.OAuthNotConfigureException]: {\n    message: 'oauth param not configured.',\n    recoverySuggestion: 'Make sure to call Amplify.configure with oauth parameter in your app.'\n  }\n};\nconst assert = createAssertionFunction(authConfigurationErrorMap);\nexport { AuthConfigurationErrorCode, assert };\n", "import { base64Decoder } from '../../../utils/convert/base64/base64Decoder.mjs';\nimport '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport { assert, AuthConfigurationErrorCode } from './errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nfunction assertTokenProviderConfig(cognitoConfig) {\n  let assertionValid = true; // assume valid until otherwise proveed\n  if (!cognitoConfig) {\n    assertionValid = false;\n  } else {\n    assertionValid = !!cognitoConfig.userPoolId && !!cognitoConfig.userPoolClientId;\n  }\n  assert(assertionValid, AuthConfigurationErrorCode.AuthUserPoolException);\n}\nfunction assertOAuthConfig(cognitoConfig) {\n  const validOAuthConfig = !!cognitoConfig?.loginWith?.oauth?.domain && !!cognitoConfig?.loginWith?.oauth?.redirectSignOut && !!cognitoConfig?.loginWith?.oauth?.redirectSignIn && !!cognitoConfig?.loginWith?.oauth?.responseType;\n  assert(validOAuthConfig, AuthConfigurationErrorCode.OAuthNotConfigureException);\n}\nfunction assertIdentityPoolIdConfig(cognitoConfig) {\n  const validConfig = !!cognitoConfig?.identityPoolId;\n  assert(validConfig, AuthConfigurationErrorCode.InvalidIdentityPoolIdException);\n}\n/**\n * Decodes payload of JWT token\n *\n * @param {String} token A string representing a token to be decoded\n * @throws {@link Error} - Throws error when token is invalid or payload malformed.\n */\nfunction decodeJWT(token) {\n  const tokenParts = token.split('.');\n  if (tokenParts.length !== 3) {\n    throw new Error('Invalid token');\n  }\n  try {\n    const base64WithUrlSafe = tokenParts[1];\n    const base64 = base64WithUrlSafe.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonStr = decodeURIComponent(base64Decoder.convert(base64).split('').map(char => `%${`00${char.charCodeAt(0).toString(16)}`.slice(-2)}`).join(''));\n    const payload = JSON.parse(jsonStr);\n    return {\n      toString: () => token,\n      payload\n    };\n  } catch (err) {\n    throw new Error('Invalid token payload');\n  }\n}\nexport { assertIdentityPoolIdConfig, assertOAuthConfig, assertTokenProviderConfig, decodeJWT };\n", "import { ConsoleLogger } from '../../Logger/ConsoleLogger.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('getClientInfo');\nfunction getClientInfo() {\n  if (typeof window === 'undefined') {\n    return {};\n  }\n  return browserClientInfo();\n}\nfunction browserClientInfo() {\n  if (typeof window === 'undefined') {\n    logger.warn('No window object available to get browser client info');\n    return {};\n  }\n  const nav = window.navigator;\n  if (!nav) {\n    logger.warn('No navigator object available to get browser client info');\n    return {};\n  }\n  const {\n    platform,\n    product,\n    vendor,\n    userAgent,\n    language\n  } = nav;\n  const type = getBrowserType(userAgent);\n  const timezone = browserTimezone();\n  return {\n    platform,\n    make: product || vendor,\n    model: type.type,\n    version: type.version,\n    appVersion: [type.type, type.version].join('/'),\n    language,\n    timezone\n  };\n}\nfunction browserTimezone() {\n  const tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n  return tzMatch ? tzMatch[1] || '' : '';\n}\nfunction getBrowserType(userAgent) {\n  // The latest user agents for Opera: https://www.whatismybrowser.com/guides/the-latest-user-agent/opera\n  const operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9.]+).*/i.exec(userAgent);\n  if (operaMatch) {\n    return {\n      type: operaMatch[1],\n      version: operaMatch[2]\n    };\n  }\n  // The latest user agents for Edge: https://www.whatismybrowser.com/guides/the-latest-user-agent/edge\n  const ieMatch = /.+(Trident|Edge|Edg|EdgA|EdgiOS)\\/([0-9.]+).*/i.exec(userAgent);\n  if (ieMatch) {\n    return {\n      type: ieMatch[1],\n      version: ieMatch[2]\n    };\n  }\n  // The latest user agents for web browsers on Firefox and Chrome\n  // https://www.whatismybrowser.com/guides/the-latest-user-agent/firefox\n  // https://www.whatismybrowser.com/guides/the-latest-user-agent/chrome\n  const cfMatch = /.+(Chrome|CriOS|Firefox|FxiOS)\\/([0-9.]+).*/i.exec(userAgent);\n  if (cfMatch) {\n    return {\n      type: cfMatch[1],\n      version: cfMatch[2]\n    };\n  }\n  // The latest user agents for Safari: https://www.whatismybrowser.com/guides/the-latest-user-agent/safari\n  const sMatch = /.+(Safari)\\/([0-9.]+).*/i.exec(userAgent);\n  if (sMatch) {\n    return {\n      type: sMatch[1],\n      version: sMatch[2]\n    };\n  }\n  const awkMatch = /.+(AppleWebKit)\\/([0-9.]+).*/i.exec(userAgent);\n  if (awkMatch) {\n    return {\n      type: awkMatch[1],\n      version: awkMatch[2]\n    };\n  }\n  const anyMatch = /.*([A-Z]+)\\/([0-9.]+).*/i.exec(userAgent);\n  if (anyMatch) {\n    return {\n      type: anyMatch[1],\n      version: anyMatch[2]\n    };\n  }\n  return {\n    type: '',\n    version: ''\n  };\n}\nexport { getClientInfo };\n", "import { ConsoleLogger } from '../../Logger/ConsoleLogger.mjs';\nimport { isNonRetryableError } from './isNonRetryableError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('retryUtil');\n/**\n * @private\n * Internal use of Amplify only\n */\nasync function retry(functionToRetry, args, delayFn, onTerminate) {\n  if (typeof functionToRetry !== 'function') {\n    throw Error('functionToRetry must be a function');\n  }\n  // TODO(eslint): remove this linter suppression with refactoring.\n  // eslint-disable-next-line no-async-promise-executor\n  return new Promise(async (resolve, reject) => {\n    let attempt = 0;\n    let terminated = false;\n    let timeout;\n    let wakeUp = () => {\n      // no-op\n    }; // will be replaced with a resolver()\n    // used after the loop if terminated while waiting for a timer.\n    let lastError;\n    onTerminate && onTerminate.then(() => {\n      // signal not to try anymore.\n      terminated = true;\n      // stop sleeping if we're sleeping.\n      clearTimeout(timeout);\n      wakeUp();\n    });\n    // TODO(eslint): remove this linter suppression with refactoring.\n    // eslint-disable-next-line no-unmodified-loop-condition\n    while (!terminated) {\n      attempt++;\n      logger.debug(`${functionToRetry.name} attempt #${attempt} with this vars: ${JSON.stringify(args)}`);\n      try {\n        resolve(await functionToRetry(...args));\n        return;\n      } catch (err) {\n        lastError = err;\n        logger.debug(`error on ${functionToRetry.name}`, err);\n        if (isNonRetryableError(err)) {\n          logger.debug(`${functionToRetry.name} non retryable error`, err);\n          reject(err);\n          return;\n        }\n        const retryIn = delayFn(attempt, args, err);\n        logger.debug(`${functionToRetry.name} retrying in ${retryIn} ms`);\n        // we check `terminated` again here because it could have flipped\n        // in the time it took `functionToRetry` to return.\n        if (retryIn === false || terminated) {\n          reject(err);\n          return;\n        } else {\n          await new Promise(_resolve => {\n            wakeUp = _resolve; // export wakeUp for onTerminate handling\n            timeout = setTimeout(wakeUp, retryIn);\n          });\n        }\n      }\n    }\n    // reached if terminated while waiting for a timer.\n    reject(lastError);\n  });\n}\nexport { retry };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst deepFreeze = object => {\n  const propNames = Reflect.ownKeys(object);\n  for (const name of propNames) {\n    const value = object[name];\n    if (value && typeof value === 'object' || typeof value === 'function') {\n      deepFreeze(value);\n    }\n  }\n  return Object.freeze(object);\n};\nexport { deepFreeze };\n", "import { ConsoleLogger } from './Logger/ConsoleLogger.mjs';\nimport { AmplifyError } from './errors/AmplifyError.mjs';\nimport './types/errors.mjs';\nimport './errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('parseAWSExports');\nconst authTypeMapping = {\n  API_KEY: 'apiKey',\n  AWS_IAM: 'iam',\n  AMAZON_COGNITO_USER_POOLS: 'userPool',\n  OPENID_CONNECT: 'oidc',\n  NONE: 'none',\n  AWS_LAMBDA: 'lambda',\n  // `LAMBDA` is an incorrect value that was added during the v6 rewrite.\n  // Keeping it as a valid value until v7 to prevent breaking customers who might\n  // be relying on it as a workaround.\n  // ref: https://github.com/aws-amplify/amplify-js/pull/12922\n  // TODO: @v7 remove next line\n  LAMBDA: 'lambda'\n};\n/**\n * Converts the object imported from `aws-exports.js` or `amplifyconfiguration.json` files generated by\n * the Amplify CLI into an object that conforms to the {@link ResourcesConfig}.\n *\n * @param config A configuration object imported  from `aws-exports.js` or `amplifyconfiguration.json`.\n *\n * @returns An object that conforms to the {@link ResourcesConfig} .\n */\nconst parseAWSExports = (config = {}) => {\n  if (!Object.prototype.hasOwnProperty.call(config, 'aws_project_region')) {\n    throw new AmplifyError({\n      name: 'InvalidParameterException',\n      message: 'Invalid config parameter.',\n      recoverySuggestion: 'Ensure passing the config object imported from  `amplifyconfiguration.json`.'\n    });\n  }\n  const {\n    aws_appsync_apiKey,\n    aws_appsync_authenticationType,\n    aws_appsync_graphqlEndpoint,\n    aws_appsync_region,\n    aws_bots_config,\n    aws_cognito_identity_pool_id,\n    aws_cognito_sign_up_verification_method,\n    aws_cognito_mfa_configuration,\n    aws_cognito_mfa_types,\n    aws_cognito_password_protection_settings,\n    aws_cognito_verification_mechanisms,\n    aws_cognito_signup_attributes,\n    aws_cognito_social_providers,\n    aws_cognito_username_attributes,\n    aws_mandatory_sign_in,\n    aws_mobile_analytics_app_id,\n    aws_mobile_analytics_app_region,\n    aws_user_files_s3_bucket,\n    aws_user_files_s3_bucket_region,\n    aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing,\n    aws_user_pools_id,\n    aws_user_pools_web_client_id,\n    geo,\n    oauth,\n    predictions,\n    aws_cloud_logic_custom,\n    Notifications,\n    modelIntrospection\n  } = config;\n  const amplifyConfig = {};\n  // Analytics\n  if (aws_mobile_analytics_app_id) {\n    amplifyConfig.Analytics = {\n      Pinpoint: {\n        appId: aws_mobile_analytics_app_id,\n        region: aws_mobile_analytics_app_region\n      }\n    };\n  }\n  // Notifications\n  const {\n    InAppMessaging,\n    Push\n  } = Notifications ?? {};\n  if (InAppMessaging?.AWSPinpoint || Push?.AWSPinpoint) {\n    if (InAppMessaging?.AWSPinpoint) {\n      const {\n        appId,\n        region\n      } = InAppMessaging.AWSPinpoint;\n      amplifyConfig.Notifications = {\n        InAppMessaging: {\n          Pinpoint: {\n            appId,\n            region\n          }\n        }\n      };\n    }\n    if (Push?.AWSPinpoint) {\n      const {\n        appId,\n        region\n      } = Push.AWSPinpoint;\n      amplifyConfig.Notifications = {\n        ...amplifyConfig.Notifications,\n        PushNotification: {\n          Pinpoint: {\n            appId,\n            region\n          }\n        }\n      };\n    }\n  }\n  // Interactions\n  if (Array.isArray(aws_bots_config)) {\n    amplifyConfig.Interactions = {\n      LexV1: Object.fromEntries(aws_bots_config.map(bot => [bot.name, bot]))\n    };\n  }\n  // API\n  if (aws_appsync_graphqlEndpoint) {\n    const defaultAuthMode = authTypeMapping[aws_appsync_authenticationType];\n    if (!defaultAuthMode) {\n      logger.debug(`Invalid authentication type ${aws_appsync_authenticationType}. Falling back to IAM.`);\n    }\n    amplifyConfig.API = {\n      GraphQL: {\n        endpoint: aws_appsync_graphqlEndpoint,\n        apiKey: aws_appsync_apiKey,\n        region: aws_appsync_region,\n        defaultAuthMode: defaultAuthMode ?? 'iam'\n      }\n    };\n    if (modelIntrospection) {\n      amplifyConfig.API.GraphQL.modelIntrospection = modelIntrospection;\n    }\n  }\n  // Auth\n  const mfaConfig = aws_cognito_mfa_configuration ? {\n    status: aws_cognito_mfa_configuration && aws_cognito_mfa_configuration.toLowerCase(),\n    totpEnabled: aws_cognito_mfa_types?.includes('TOTP') ?? false,\n    smsEnabled: aws_cognito_mfa_types?.includes('SMS') ?? false\n  } : undefined;\n  const passwordFormatConfig = aws_cognito_password_protection_settings ? {\n    minLength: aws_cognito_password_protection_settings.passwordPolicyMinLength,\n    requireLowercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_LOWERCASE') ?? false,\n    requireUppercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_UPPERCASE') ?? false,\n    requireNumbers: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_NUMBERS') ?? false,\n    requireSpecialCharacters: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_SYMBOLS') ?? false\n  } : undefined;\n  const mergedUserAttributes = Array.from(new Set([...(aws_cognito_verification_mechanisms ?? []), ...(aws_cognito_signup_attributes ?? [])]));\n  const userAttributes = mergedUserAttributes.reduce((attributes, key) => ({\n    ...attributes,\n    // All user attributes generated by the CLI are required\n    [key.toLowerCase()]: {\n      required: true\n    }\n  }), {});\n  const loginWithEmailEnabled = aws_cognito_username_attributes?.includes('EMAIL') ?? false;\n  const loginWithPhoneEnabled = aws_cognito_username_attributes?.includes('PHONE_NUMBER') ?? false;\n  if (aws_cognito_identity_pool_id || aws_user_pools_id) {\n    amplifyConfig.Auth = {\n      Cognito: {\n        identityPoolId: aws_cognito_identity_pool_id,\n        allowGuestAccess: aws_mandatory_sign_in !== 'enable',\n        signUpVerificationMethod: aws_cognito_sign_up_verification_method,\n        userAttributes,\n        userPoolClientId: aws_user_pools_web_client_id,\n        userPoolId: aws_user_pools_id,\n        mfa: mfaConfig,\n        passwordFormat: passwordFormatConfig,\n        loginWith: {\n          username: !(loginWithEmailEnabled || loginWithPhoneEnabled),\n          email: loginWithEmailEnabled,\n          phone: loginWithPhoneEnabled\n        }\n      }\n    };\n  }\n  const hasOAuthConfig = oauth ? Object.keys(oauth).length > 0 : false;\n  const hasSocialProviderConfig = aws_cognito_social_providers ? aws_cognito_social_providers.length > 0 : false;\n  if (amplifyConfig.Auth && hasOAuthConfig) {\n    amplifyConfig.Auth.Cognito.loginWith = {\n      ...amplifyConfig.Auth.Cognito.loginWith,\n      oauth: {\n        ...getOAuthConfig(oauth),\n        ...(hasSocialProviderConfig && {\n          providers: parseSocialProviders(aws_cognito_social_providers)\n        })\n      }\n    };\n  }\n  // Storage\n  if (aws_user_files_s3_bucket) {\n    amplifyConfig.Storage = {\n      S3: {\n        bucket: aws_user_files_s3_bucket,\n        region: aws_user_files_s3_bucket_region,\n        dangerouslyConnectToHttpEndpointForTesting: aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing\n      }\n    };\n  }\n  // Geo\n  if (geo) {\n    const {\n      amazon_location_service\n    } = geo;\n    amplifyConfig.Geo = {\n      LocationService: {\n        maps: amazon_location_service.maps,\n        geofenceCollections: amazon_location_service.geofenceCollections,\n        searchIndices: amazon_location_service.search_indices,\n        region: amazon_location_service.region\n      }\n    };\n  }\n  // REST API\n  if (aws_cloud_logic_custom) {\n    amplifyConfig.API = {\n      ...amplifyConfig.API,\n      REST: aws_cloud_logic_custom.reduce((acc, api) => {\n        const {\n          name,\n          endpoint,\n          region,\n          service\n        } = api;\n        return {\n          ...acc,\n          [name]: {\n            endpoint,\n            ...(service ? {\n              service\n            } : undefined),\n            ...(region ? {\n              region\n            } : undefined)\n          }\n        };\n      }, {})\n    };\n  }\n  // Predictions\n  if (predictions) {\n    // map VoiceId from speechGenerator defaults to voiceId\n    const {\n      VoiceId: voiceId\n    } = predictions?.convert?.speechGenerator?.defaults ?? {};\n    amplifyConfig.Predictions = voiceId ? {\n      ...predictions,\n      convert: {\n        ...predictions.convert,\n        speechGenerator: {\n          ...predictions.convert.speechGenerator,\n          defaults: {\n            voiceId\n          }\n        }\n      }\n    } : predictions;\n  }\n  return amplifyConfig;\n};\nconst getRedirectUrl = redirectStr => redirectStr?.split(',') ?? [];\nconst getOAuthConfig = ({\n  domain,\n  scope,\n  redirectSignIn,\n  redirectSignOut,\n  responseType\n}) => ({\n  domain,\n  scopes: scope,\n  redirectSignIn: getRedirectUrl(redirectSignIn),\n  redirectSignOut: getRedirectUrl(redirectSignOut),\n  responseType\n});\nconst parseSocialProviders = aws_cognito_social_providers => {\n  return aws_cognito_social_providers.map(provider => {\n    const updatedProvider = provider.toLowerCase();\n    return updatedProvider.charAt(0).toUpperCase() + updatedProvider.slice(1);\n  });\n};\nexport { parseAWSExports };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst ADD_OAUTH_LISTENER = Symbol('oauth-listener');\nexport { ADD_OAUTH_LISTENER };\n", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;", "import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;", "import validate from './validate.js';\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  let v;\n  return Uint8Array.of((v = parseInt(uuid.slice(0, 8), 16)) >>> 24, v >>> 16 & 0xff, v >>> 8 & 0xff, v & 0xff, (v = parseInt(uuid.slice(9, 13), 16)) >>> 8, v & 0xff, (v = parseInt(uuid.slice(14, 18), 16)) >>> 8, v & 0xff, (v = parseInt(uuid.slice(19, 23), 16)) >>> 8, v & 0xff, (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff, v / 0x100000000 & 0xff, v >>> 24 & 0xff, v >>> 16 & 0xff, v >>> 8 & 0xff, v & 0xff);\n}\nexport default parse;", "import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset);\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;", "let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n    getRandomValues = crypto.getRandomValues.bind(crypto);\n  }\n  return getRandomValues(rnds8);\n}", "function md5(bytes) {\n  const words = uint8ToUint32(bytes);\n  const md5Bytes = wordsToMd5(words, bytes.length * 8);\n  return uint32ToUint8(md5Bytes);\n}\nfunction uint32ToUint8(input) {\n  const bytes = new Uint8Array(input.length * 4);\n  for (let i = 0; i < input.length * 4; i++) {\n    bytes[i] = input[i >> 2] >>> i % 4 * 8 & 0xff;\n  }\n  return bytes;\n}\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\nfunction wordsToMd5(x, len) {\n  const xpad = new Uint32Array(getOutputLength(len)).fill(0);\n  xpad.set(x);\n  xpad[len >> 5] |= 0x80 << len % 32;\n  xpad[xpad.length - 1] = len;\n  x = xpad;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n  return Uint32Array.of(a, b, c, d);\n}\nfunction uint8ToUint32(input) {\n  if (input.length === 0) {\n    return new Uint32Array();\n  }\n  const output = new Uint32Array(getOutputLength(input.length * 8)).fill(0);\n  for (let i = 0; i < input.length; i++) {\n    output[i >> 2] |= (input[i] & 0xff) << i % 4 * 8;\n  }\n  return output;\n}\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\nexport default md5;", "import parse from './parse.js';\nimport { unsafeStringify } from './stringify.js';\nexport function stringToBytes(str) {\n  str = unescape(encodeURIComponent(str));\n  const bytes = new Uint8Array(str.length);\n  for (let i = 0; i < str.length; ++i) {\n    bytes[i] = str.charCodeAt(i);\n  }\n  return bytes;\n}\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function v35(version, hash, value, namespace, buf, offset) {\n  const valueBytes = typeof value === 'string' ? stringToBytes(value) : value;\n  const namespaceBytes = typeof namespace === 'string' ? parse(namespace) : namespace;\n  if (typeof namespace === 'string') {\n    namespace = parse(namespace);\n  }\n  if (namespace?.length !== 16) {\n    throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n  }\n  let bytes = new Uint8Array(16 + valueBytes.length);\n  bytes.set(namespaceBytes);\n  bytes.set(valueBytes, namespaceBytes.length);\n  bytes = hash(bytes);\n  bytes[6] = bytes[6] & 0x0f | version;\n  bytes[8] = bytes[8] & 0x3f | 0x80;\n  if (buf) {\n    offset = offset || 0;\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = bytes[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(bytes);\n}", "import md5 from './md5.js';\nimport v35, { DNS, URL } from './v35.js';\nexport { DNS, URL } from './v35.js';\nfunction v3(value, namespace, buf, offset) {\n  return v35(0x30, md5, value, namespace, buf, offset);\n}\nv3.DNS = DNS;\nv3.URL = URL;\nexport default v3;", "const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};", "import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  const rnds = options.random ?? options.rng?.() ?? rng();\n  if (rnds.length < 16) {\n    throw new Error('Random bytes length must be >= 16');\n  }\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n  if (buf) {\n    offset = offset || 0;\n    if (offset < 0 || offset + 16 > buf.length) {\n      throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n    }\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;", "function f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n    case 1:\n      return x ^ y ^ z;\n    case 2:\n      return x & y ^ x & z ^ y & z;\n    case 3:\n      return x ^ y ^ z;\n  }\n}\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n  const newBytes = new Uint8Array(bytes.length + 1);\n  newBytes.set(bytes);\n  newBytes[bytes.length] = 0x80;\n  bytes = newBytes;\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n    M[i] = arr;\n  }\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n  return Uint8Array.of(H[0] >> 24, H[0] >> 16, H[0] >> 8, H[0], H[1] >> 24, H[1] >> 16, H[1] >> 8, H[1], H[2] >> 24, H[2] >> 16, H[2] >> 8, H[2], H[3] >> 24, H[3] >> 16, H[3] >> 8, H[3], H[4] >> 24, H[4] >> 16, H[4] >> 8, H[4]);\n}\nexport default sha1;", "import sha1 from './sha1.js';\nimport v35, { DNS, URL } from './v35.js';\nexport { DNS, URL } from './v35.js';\nfunction v5(value, namespace, buf, offset) {\n  return v35(0x50, sha1, value, namespace, buf, offset);\n}\nv5.DNS = DNS;\nv5.URL = URL;\nexport default v5;", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nfunction isAmplifyOutputs(config) {\n  // version format initially will be '1' but is expected to be something like x.y where x is major and y minor version\n  const {\n    version\n  } = config;\n  if (!version) {\n    return false;\n  }\n  return version.startsWith('1');\n}\nfunction parseStorage(amplifyOutputsStorageProperties) {\n  if (!amplifyOutputsStorageProperties) {\n    return undefined;\n  }\n  const {\n    bucket_name,\n    aws_region,\n    buckets\n  } = amplifyOutputsStorageProperties;\n  return {\n    S3: {\n      bucket: bucket_name,\n      region: aws_region,\n      buckets: buckets && createBucketInfoMap(buckets)\n    }\n  };\n}\nfunction parseAuth(amplifyOutputsAuthProperties) {\n  if (!amplifyOutputsAuthProperties) {\n    return undefined;\n  }\n  const {\n    user_pool_id,\n    user_pool_client_id,\n    identity_pool_id,\n    password_policy,\n    mfa_configuration,\n    mfa_methods,\n    unauthenticated_identities_enabled,\n    oauth,\n    username_attributes,\n    standard_required_attributes,\n    groups\n  } = amplifyOutputsAuthProperties;\n  const authConfig = {\n    Cognito: {\n      userPoolId: user_pool_id,\n      userPoolClientId: user_pool_client_id,\n      groups\n    }\n  };\n  if (identity_pool_id) {\n    authConfig.Cognito = {\n      ...authConfig.Cognito,\n      identityPoolId: identity_pool_id\n    };\n  }\n  if (password_policy) {\n    authConfig.Cognito.passwordFormat = {\n      requireLowercase: password_policy.require_lowercase,\n      requireNumbers: password_policy.require_numbers,\n      requireUppercase: password_policy.require_uppercase,\n      requireSpecialCharacters: password_policy.require_symbols,\n      minLength: password_policy.min_length ?? 6\n    };\n  }\n  if (mfa_configuration) {\n    authConfig.Cognito.mfa = {\n      status: getMfaStatus(mfa_configuration),\n      smsEnabled: mfa_methods?.includes('SMS'),\n      totpEnabled: mfa_methods?.includes('TOTP')\n    };\n  }\n  if (unauthenticated_identities_enabled) {\n    authConfig.Cognito.allowGuestAccess = unauthenticated_identities_enabled;\n  }\n  if (oauth) {\n    authConfig.Cognito.loginWith = {\n      oauth: {\n        domain: oauth.domain,\n        redirectSignIn: oauth.redirect_sign_in_uri,\n        redirectSignOut: oauth.redirect_sign_out_uri,\n        responseType: oauth.response_type === 'token' ? 'token' : 'code',\n        scopes: oauth.scopes,\n        providers: getOAuthProviders(oauth.identity_providers)\n      }\n    };\n  }\n  if (username_attributes) {\n    authConfig.Cognito.loginWith = {\n      ...authConfig.Cognito.loginWith,\n      email: username_attributes.includes('email'),\n      phone: username_attributes.includes('phone_number'),\n      // Signing in with a username is not currently supported in Gen2, this should always evaluate to false\n      username: username_attributes.includes('username')\n    };\n  }\n  if (standard_required_attributes) {\n    authConfig.Cognito.userAttributes = standard_required_attributes.reduce((acc, curr) => ({\n      ...acc,\n      [curr]: {\n        required: true\n      }\n    }), {});\n  }\n  return authConfig;\n}\nfunction parseAnalytics(amplifyOutputsAnalyticsProperties) {\n  if (!amplifyOutputsAnalyticsProperties?.amazon_pinpoint) {\n    return undefined;\n  }\n  const {\n    amazon_pinpoint\n  } = amplifyOutputsAnalyticsProperties;\n  return {\n    Pinpoint: {\n      appId: amazon_pinpoint.app_id,\n      region: amazon_pinpoint.aws_region\n    }\n  };\n}\nfunction parseGeo(amplifyOutputsAnalyticsProperties) {\n  if (!amplifyOutputsAnalyticsProperties) {\n    return undefined;\n  }\n  const {\n    aws_region,\n    geofence_collections,\n    maps,\n    search_indices\n  } = amplifyOutputsAnalyticsProperties;\n  return {\n    LocationService: {\n      region: aws_region,\n      searchIndices: search_indices,\n      geofenceCollections: geofence_collections,\n      maps\n    }\n  };\n}\nfunction parseData(amplifyOutputsDataProperties) {\n  if (!amplifyOutputsDataProperties) {\n    return undefined;\n  }\n  const {\n    aws_region,\n    default_authorization_type,\n    url,\n    api_key,\n    model_introspection\n  } = amplifyOutputsDataProperties;\n  const GraphQL = {\n    endpoint: url,\n    defaultAuthMode: getGraphQLAuthMode(default_authorization_type),\n    region: aws_region,\n    apiKey: api_key,\n    modelIntrospection: model_introspection\n  };\n  return {\n    GraphQL\n  };\n}\nfunction parseCustom(amplifyOutputsCustomProperties) {\n  if (!amplifyOutputsCustomProperties?.events) {\n    return undefined;\n  }\n  const {\n    url,\n    aws_region,\n    api_key,\n    default_authorization_type\n  } = amplifyOutputsCustomProperties.events;\n  const Events = {\n    endpoint: url,\n    defaultAuthMode: getGraphQLAuthMode(default_authorization_type),\n    region: aws_region,\n    apiKey: api_key\n  };\n  return {\n    Events\n  };\n}\nfunction parseNotifications(amplifyOutputsNotificationsProperties) {\n  if (!amplifyOutputsNotificationsProperties) {\n    return undefined;\n  }\n  const {\n    aws_region,\n    channels,\n    amazon_pinpoint_app_id\n  } = amplifyOutputsNotificationsProperties;\n  const hasInAppMessaging = channels.includes('IN_APP_MESSAGING');\n  const hasPushNotification = channels.includes('APNS') || channels.includes('FCM');\n  if (!(hasInAppMessaging || hasPushNotification)) {\n    return undefined;\n  }\n  // At this point, we know the Amplify outputs contains at least one supported channel\n  const notificationsConfig = {};\n  if (hasInAppMessaging) {\n    notificationsConfig.InAppMessaging = {\n      Pinpoint: {\n        appId: amazon_pinpoint_app_id,\n        region: aws_region\n      }\n    };\n  }\n  if (hasPushNotification) {\n    notificationsConfig.PushNotification = {\n      Pinpoint: {\n        appId: amazon_pinpoint_app_id,\n        region: aws_region\n      }\n    };\n  }\n  return notificationsConfig;\n}\nfunction parseAmplifyOutputs(amplifyOutputs) {\n  const resourcesConfig = {};\n  if (amplifyOutputs.storage) {\n    resourcesConfig.Storage = parseStorage(amplifyOutputs.storage);\n  }\n  if (amplifyOutputs.auth) {\n    resourcesConfig.Auth = parseAuth(amplifyOutputs.auth);\n  }\n  if (amplifyOutputs.analytics) {\n    resourcesConfig.Analytics = parseAnalytics(amplifyOutputs.analytics);\n  }\n  if (amplifyOutputs.geo) {\n    resourcesConfig.Geo = parseGeo(amplifyOutputs.geo);\n  }\n  if (amplifyOutputs.data) {\n    resourcesConfig.API = parseData(amplifyOutputs.data);\n  }\n  if (amplifyOutputs.custom) {\n    const customConfig = parseCustom(amplifyOutputs.custom);\n    if (customConfig && 'Events' in customConfig) {\n      resourcesConfig.API = {\n        ...resourcesConfig.API,\n        ...customConfig\n      };\n    }\n  }\n  if (amplifyOutputs.notifications) {\n    resourcesConfig.Notifications = parseNotifications(amplifyOutputs.notifications);\n  }\n  return resourcesConfig;\n}\nconst authModeNames = {\n  AMAZON_COGNITO_USER_POOLS: 'userPool',\n  API_KEY: 'apiKey',\n  AWS_IAM: 'iam',\n  AWS_LAMBDA: 'lambda',\n  OPENID_CONNECT: 'oidc'\n};\nfunction getGraphQLAuthMode(authType) {\n  return authModeNames[authType];\n}\nconst providerNames = {\n  GOOGLE: 'Google',\n  LOGIN_WITH_AMAZON: 'Amazon',\n  FACEBOOK: 'Facebook',\n  SIGN_IN_WITH_APPLE: 'Apple'\n};\nfunction getOAuthProviders(providers = []) {\n  return providers.reduce((oAuthProviders, provider) => {\n    if (providerNames[provider] !== undefined) {\n      oAuthProviders.push(providerNames[provider]);\n    }\n    return oAuthProviders;\n  }, []);\n}\nfunction getMfaStatus(mfaConfiguration) {\n  if (mfaConfiguration === 'OPTIONAL') return 'optional';\n  if (mfaConfiguration === 'REQUIRED') return 'on';\n  return 'off';\n}\nfunction createBucketInfoMap(buckets) {\n  const mappedBuckets = {};\n  buckets.forEach(({\n    name,\n    bucket_name: bucketName,\n    aws_region: region,\n    paths\n  }) => {\n    if (name in mappedBuckets) {\n      throw new Error(`Duplicate friendly name found: ${name}. Name must be unique.`);\n    }\n    const sanitizedPaths = paths ? Object.entries(paths).reduce((acc, [key, value]) => {\n      if (value !== undefined) {\n        acc[key] = value;\n      }\n      return acc;\n    }, {}) : undefined;\n    mappedBuckets[name] = {\n      bucketName,\n      region,\n      paths: sanitizedPaths\n    };\n  });\n  return mappedBuckets;\n}\nexport { isAmplifyOutputs, parseAmplifyOutputs, parseAnalytics };\n", "import { parseAWSExports } from '../parseAWSExports.mjs';\nimport { isAmplifyOutputs, parseAmplifyOutputs } from '../parseAmplifyOutputs.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Parses the variety of configuration shapes that Amplify can accept into a ResourcesConfig.\n *\n * @param amplifyConfig An Amplify configuration object conforming to one of the supported schemas.\n * @return A ResourcesConfig for the provided configuration object.\n */\nconst parseAmplifyConfig = amplifyConfig => {\n  if (Object.keys(amplifyConfig).some(key => key.startsWith('aws_'))) {\n    return parseAWSExports(amplifyConfig);\n  } else if (isAmplifyOutputs(amplifyConfig)) {\n    return parseAmplifyOutputs(amplifyConfig);\n  } else {\n    return amplifyConfig;\n  }\n};\nexport { parseAmplifyConfig };\n", "/**\n * @internal\n */\nexport var BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexport var DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexport var KEY = new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n/**\n * @internal\n */\nexport var INIT = [0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19];\n/**\n * @internal\n */\nexport var MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n", "import { BLOCK_SIZE, DIGEST_LENGTH, INIT, KEY, MAX_HASHABLE_LENGTH } from \"./constants\";\n/**\n * @internal\n */\nvar RawSha256 = /** @class */function () {\n  function RawSha256() {\n    this.state = Int32Array.from(INIT);\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @internal\n     */\n    this.finished = false;\n  }\n  RawSha256.prototype.update = function (data) {\n    if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n      throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n    }\n    while (byteLength > 0) {\n      this.buffer[this.bufferLength++] = data[position++];\n      byteLength--;\n      if (this.bufferLength === BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  };\n  RawSha256.prototype.digest = function () {\n    if (!this.finished) {\n      var bitsHashed = this.bytesHashed * 8;\n      var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n      var undecoratedLength = this.bufferLength;\n      bufferView.setUint8(this.bufferLength++, 0x80);\n      // Ensure the final block has enough room for the hashed length\n      if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n        for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n          bufferView.setUint8(i, 0);\n        }\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n      for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n        bufferView.setUint8(i, 0);\n      }\n      bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n      bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n      this.hashBuffer();\n      this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Uint8Array(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n      out[i * 4] = this.state[i] >>> 24 & 0xff;\n      out[i * 4 + 1] = this.state[i] >>> 16 & 0xff;\n      out[i * 4 + 2] = this.state[i] >>> 8 & 0xff;\n      out[i * 4 + 3] = this.state[i] >>> 0 & 0xff;\n    }\n    return out;\n  };\n  RawSha256.prototype.hashBuffer = function () {\n    var _a = this,\n      buffer = _a.buffer,\n      state = _a.state;\n    var state0 = state[0],\n      state1 = state[1],\n      state2 = state[2],\n      state3 = state[3],\n      state4 = state[4],\n      state5 = state[5],\n      state6 = state[6],\n      state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n      if (i < 16) {\n        this.temp[i] = (buffer[i * 4] & 0xff) << 24 | (buffer[i * 4 + 1] & 0xff) << 16 | (buffer[i * 4 + 2] & 0xff) << 8 | buffer[i * 4 + 3] & 0xff;\n      } else {\n        var u = this.temp[i - 2];\n        var t1_1 = (u >>> 17 | u << 15) ^ (u >>> 19 | u << 13) ^ u >>> 10;\n        u = this.temp[i - 15];\n        var t2_1 = (u >>> 7 | u << 25) ^ (u >>> 18 | u << 14) ^ u >>> 3;\n        this.temp[i] = (t1_1 + this.temp[i - 7] | 0) + (t2_1 + this.temp[i - 16] | 0);\n      }\n      var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (KEY[i] + this.temp[i] | 0) | 0) | 0;\n      var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;\n      state7 = state6;\n      state6 = state5;\n      state5 = state4;\n      state4 = state3 + t1 | 0;\n      state3 = state2;\n      state2 = state1;\n      state1 = state0;\n      state0 = t1 + t2 | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n  };\n  return RawSha256;\n}();\nexport { RawSha256 };\n", "export const fromUtf8 = input => new TextEncoder().encode(input);", "// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { fromUtf8 as fromUtf8Browser } from \"@smithy/util-utf8\";\n// Quick polyfill\nvar fromUtf8 = typeof Buffer !== \"undefined\" && Buffer.from ? function (input) {\n  return Buffer.from(input, \"utf8\");\n} : fromUtf8Browser;\nexport function convertToBuffer(data) {\n  // Already a Uint8, do nothing\n  if (data instanceof Uint8Array) return data;\n  if (typeof data === \"string\") {\n    return fromUtf8(data);\n  }\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n  }\n  return new Uint8Array(data);\n}\n", "// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function isEmptyData(data) {\n  if (typeof data === \"string\") {\n    return data.length === 0;\n  }\n  return data.byteLength === 0;\n}\n", "import { __awaiter, __generator } from \"tslib\";\nimport { BLOCK_SIZE } from \"./constants\";\nimport { RawSha256 } from \"./RawSha256\";\nimport { isEmptyData, convertToBuffer } from \"@aws-crypto/util\";\nvar Sha256 = /** @class */function () {\n  function Sha256(secret) {\n    this.secret = secret;\n    this.hash = new RawSha256();\n    this.reset();\n  }\n  Sha256.prototype.update = function (toHash) {\n    if (isEmptyData(toHash) || this.error) {\n      return;\n    }\n    try {\n      this.hash.update(convertToBuffer(toHash));\n    } catch (e) {\n      this.error = e;\n    }\n  };\n  /* This synchronous method keeps compatibility\n   * with the v2 aws-sdk.\n   */\n  Sha256.prototype.digestSync = function () {\n    if (this.error) {\n      throw this.error;\n    }\n    if (this.outer) {\n      if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n      }\n      return this.outer.digest();\n    }\n    return this.hash.digest();\n  };\n  /* The underlying digest method here is synchronous.\n   * To keep the same interface with the other hash functions\n   * the default is to expose this as an async method.\n   * However, it can sometimes be useful to have a sync method.\n   */\n  Sha256.prototype.digest = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.digestSync()];\n      });\n    });\n  };\n  Sha256.prototype.reset = function () {\n    this.hash = new RawSha256();\n    if (this.secret) {\n      this.outer = new RawSha256();\n      var inner = bufferFromSecret(this.secret);\n      var outer = new Uint8Array(BLOCK_SIZE);\n      outer.set(inner);\n      for (var i = 0; i < BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n      }\n      this.hash.update(inner);\n      this.outer.update(outer);\n      // overwrite the copied key in memory\n      for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n      }\n    }\n  };\n  return Sha256;\n}();\nexport { Sha256 };\nfunction bufferFromSecret(secret) {\n  var input = convertToBuffer(secret);\n  if (input.byteLength > BLOCK_SIZE) {\n    var bufferHash = new RawSha256();\n    bufferHash.update(input);\n    input = bufferHash.digest();\n  }\n  var buffer = new Uint8Array(BLOCK_SIZE);\n  buffer.set(input);\n  return buffer;\n}\n", "const SHORT_TO_HEX = {};\nconst HEX_TO_SHORT = {};\nfor (let i = 0; i < 256; i++) {\n  let encodedByte = i.toString(16).toLowerCase();\n  if (encodedByte.length === 1) {\n    encodedByte = `0${encodedByte}`;\n  }\n  SHORT_TO_HEX[i] = encodedByte;\n  HEX_TO_SHORT[encodedByte] = i;\n}\nexport function fromHex(encoded) {\n  if (encoded.length % 2 !== 0) {\n    throw new Error(\"Hex encoded strings must have an even number length\");\n  }\n  const out = new Uint8Array(encoded.length / 2);\n  for (let i = 0; i < encoded.length; i += 2) {\n    const encodedByte = encoded.slice(i, i + 2).toLowerCase();\n    if (encodedByte in HEX_TO_SHORT) {\n      out[i / 2] = HEX_TO_SHORT[encodedByte];\n    } else {\n      throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);\n    }\n  }\n  return out;\n}\nexport function toHex(bytes) {\n  let out = \"\";\n  for (let i = 0; i < bytes.byteLength; i++) {\n    out += SHORT_TO_HEX[bytes[i]];\n  }\n  return out;\n}", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar Framework;\n(function (Framework) {\n  // < 100 - Web frameworks\n  Framework[\"WebUnknown\"] = \"0\";\n  Framework[\"React\"] = \"1\";\n  Framework[\"NextJs\"] = \"2\";\n  Framework[\"Angular\"] = \"3\";\n  Framework[\"VueJs\"] = \"4\";\n  Framework[\"Nuxt\"] = \"5\";\n  Framework[\"Svelte\"] = \"6\";\n  // 100s - Server side frameworks\n  Framework[\"ServerSideUnknown\"] = \"100\";\n  Framework[\"ReactSSR\"] = \"101\";\n  Framework[\"NextJsSSR\"] = \"102\";\n  Framework[\"AngularSSR\"] = \"103\";\n  Framework[\"VueJsSSR\"] = \"104\";\n  Framework[\"NuxtSSR\"] = \"105\";\n  Framework[\"SvelteSSR\"] = \"106\";\n  // 200s - Mobile framework\n  Framework[\"ReactNative\"] = \"201\";\n  Framework[\"Expo\"] = \"202\";\n})(Framework || (Framework = {}));\nvar Category;\n(function (Category) {\n  Category[\"AI\"] = \"ai\";\n  Category[\"API\"] = \"api\";\n  Category[\"Auth\"] = \"auth\";\n  Category[\"Analytics\"] = \"analytics\";\n  Category[\"DataStore\"] = \"datastore\";\n  Category[\"Geo\"] = \"geo\";\n  Category[\"InAppMessaging\"] = \"inappmessaging\";\n  Category[\"Interactions\"] = \"interactions\";\n  Category[\"Predictions\"] = \"predictions\";\n  Category[\"PubSub\"] = \"pubsub\";\n  Category[\"PushNotification\"] = \"pushnotification\";\n  Category[\"Storage\"] = \"storage\";\n})(Category || (Category = {}));\nvar AiAction;\n(function (AiAction) {\n  AiAction[\"CreateConversation\"] = \"1\";\n  AiAction[\"GetConversation\"] = \"2\";\n  AiAction[\"ListConversations\"] = \"3\";\n  AiAction[\"DeleteConversation\"] = \"4\";\n  AiAction[\"SendMessage\"] = \"5\";\n  AiAction[\"ListMessages\"] = \"6\";\n  AiAction[\"OnMessage\"] = \"7\";\n  AiAction[\"Generation\"] = \"8\";\n  AiAction[\"UpdateConversation\"] = \"9\";\n})(AiAction || (AiAction = {}));\nvar AnalyticsAction;\n(function (AnalyticsAction) {\n  AnalyticsAction[\"Record\"] = \"1\";\n  AnalyticsAction[\"IdentifyUser\"] = \"2\";\n})(AnalyticsAction || (AnalyticsAction = {}));\nvar ApiAction;\n(function (ApiAction) {\n  ApiAction[\"GraphQl\"] = \"1\";\n  ApiAction[\"Get\"] = \"2\";\n  ApiAction[\"Post\"] = \"3\";\n  ApiAction[\"Put\"] = \"4\";\n  ApiAction[\"Patch\"] = \"5\";\n  ApiAction[\"Del\"] = \"6\";\n  ApiAction[\"Head\"] = \"7\";\n})(ApiAction || (ApiAction = {}));\nvar AuthAction;\n(function (AuthAction) {\n  AuthAction[\"SignUp\"] = \"1\";\n  AuthAction[\"ConfirmSignUp\"] = \"2\";\n  AuthAction[\"ResendSignUpCode\"] = \"3\";\n  AuthAction[\"SignIn\"] = \"4\";\n  AuthAction[\"FetchMFAPreference\"] = \"6\";\n  AuthAction[\"UpdateMFAPreference\"] = \"7\";\n  AuthAction[\"SetUpTOTP\"] = \"10\";\n  AuthAction[\"VerifyTOTPSetup\"] = \"11\";\n  AuthAction[\"ConfirmSignIn\"] = \"12\";\n  AuthAction[\"DeleteUserAttributes\"] = \"15\";\n  AuthAction[\"DeleteUser\"] = \"16\";\n  AuthAction[\"UpdateUserAttributes\"] = \"17\";\n  AuthAction[\"FetchUserAttributes\"] = \"18\";\n  AuthAction[\"ConfirmUserAttribute\"] = \"22\";\n  AuthAction[\"SignOut\"] = \"26\";\n  AuthAction[\"UpdatePassword\"] = \"27\";\n  AuthAction[\"ResetPassword\"] = \"28\";\n  AuthAction[\"ConfirmResetPassword\"] = \"29\";\n  AuthAction[\"FederatedSignIn\"] = \"30\";\n  AuthAction[\"RememberDevice\"] = \"32\";\n  AuthAction[\"ForgetDevice\"] = \"33\";\n  AuthAction[\"FetchDevices\"] = \"34\";\n  AuthAction[\"SendUserAttributeVerificationCode\"] = \"35\";\n  AuthAction[\"SignInWithRedirect\"] = \"36\";\n  AuthAction[\"StartWebAuthnRegistration\"] = \"37\";\n  AuthAction[\"CompleteWebAuthnRegistration\"] = \"38\";\n  AuthAction[\"ListWebAuthnCredentials\"] = \"39\";\n  AuthAction[\"DeleteWebAuthnCredential\"] = \"40\";\n})(AuthAction || (AuthAction = {}));\nvar DataStoreAction;\n(function (DataStoreAction) {\n  DataStoreAction[\"Subscribe\"] = \"1\";\n  DataStoreAction[\"GraphQl\"] = \"2\";\n})(DataStoreAction || (DataStoreAction = {}));\nvar GeoAction;\n(function (GeoAction) {\n  GeoAction[\"SearchByText\"] = \"0\";\n  GeoAction[\"SearchByCoordinates\"] = \"1\";\n  GeoAction[\"SearchForSuggestions\"] = \"2\";\n  GeoAction[\"SearchByPlaceId\"] = \"3\";\n  GeoAction[\"SaveGeofences\"] = \"4\";\n  GeoAction[\"GetGeofence\"] = \"5\";\n  GeoAction[\"ListGeofences\"] = \"6\";\n  GeoAction[\"DeleteGeofences\"] = \"7\";\n})(GeoAction || (GeoAction = {}));\nvar InAppMessagingAction;\n(function (InAppMessagingAction) {\n  InAppMessagingAction[\"SyncMessages\"] = \"1\";\n  InAppMessagingAction[\"IdentifyUser\"] = \"2\";\n  InAppMessagingAction[\"NotifyMessageInteraction\"] = \"3\";\n})(InAppMessagingAction || (InAppMessagingAction = {}));\nvar InteractionsAction;\n(function (InteractionsAction) {\n  InteractionsAction[\"None\"] = \"0\";\n})(InteractionsAction || (InteractionsAction = {}));\nvar PredictionsAction;\n(function (PredictionsAction) {\n  PredictionsAction[\"Convert\"] = \"1\";\n  PredictionsAction[\"Identify\"] = \"2\";\n  PredictionsAction[\"Interpret\"] = \"3\";\n})(PredictionsAction || (PredictionsAction = {}));\nvar PubSubAction;\n(function (PubSubAction) {\n  PubSubAction[\"Subscribe\"] = \"1\";\n})(PubSubAction || (PubSubAction = {}));\nvar PushNotificationAction;\n(function (PushNotificationAction) {\n  PushNotificationAction[\"InitializePushNotifications\"] = \"1\";\n  PushNotificationAction[\"IdentifyUser\"] = \"2\";\n})(PushNotificationAction || (PushNotificationAction = {}));\nvar StorageAction;\n(function (StorageAction) {\n  StorageAction[\"UploadData\"] = \"1\";\n  StorageAction[\"DownloadData\"] = \"2\";\n  StorageAction[\"List\"] = \"3\";\n  StorageAction[\"Copy\"] = \"4\";\n  StorageAction[\"Remove\"] = \"5\";\n  StorageAction[\"GetProperties\"] = \"6\";\n  StorageAction[\"GetUrl\"] = \"7\";\n  StorageAction[\"GetDataAccess\"] = \"8\";\n  StorageAction[\"ListCallerAccessGrants\"] = \"9\";\n})(StorageAction || (StorageAction = {}));\nexport { AiAction, AnalyticsAction, ApiAction, AuthAction, Category, DataStoreAction, Framework, GeoAction, InAppMessagingAction, InteractionsAction, PredictionsAction, PubSubAction, PushNotificationAction, StorageAction };\n", "// generated by genversion\nconst version = '6.15.3';\nexport { version };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst globalExists = () => {\n  return typeof global !== 'undefined';\n};\nconst globalThisExists = () => {\n  return typeof globalThis !== 'undefined';\n};\nconst windowExists = () => {\n  return typeof window !== 'undefined';\n};\nconst documentExists = () => {\n  return typeof document !== 'undefined';\n};\nconst processExists = () => {\n  return typeof process !== 'undefined';\n};\nconst keyPrefixMatch = (object, prefix) => {\n  return !!Object.keys(object).find(key => key.startsWith(prefix));\n};\nexport { documentExists, globalExists, globalThisExists, keyPrefixMatch, processExists, windowExists };\n", "import { documentExists, processExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with react 18.2 - built using Vite\nfunction reactWebDetect() {\n  const elementKeyPrefixedWithReact = key => {\n    return key.startsWith('_react') || key.startsWith('__react');\n  };\n  const elementIsReactEnabled = element => {\n    return Object.keys(element).find(elementKeyPrefixedWithReact);\n  };\n  const allElementsWithId = () => Array.from(document.querySelectorAll('[id]'));\n  return documentExists() && allElementsWithId().some(elementIsReactEnabled);\n}\nfunction reactSSRDetect() {\n  return processExists() && typeof process.env !== 'undefined' && !!Object.keys(process.env).find(key => key.includes('react'));\n}\n// use the some\n\nexport { reactSSRDetect, reactWebDetect };\n", "import { windowExists, keyPrefixMatch, globalExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with vue 3.3.2\nfunction vueWebDetect() {\n  return windowExists() && keyPrefixMatch(window, '__VUE');\n}\nfunction vueSSRDetect() {\n  return globalExists() && keyPrefixMatch(global, '__VUE');\n}\nexport { vueSSRDetect, vueWebDetect };\n", "import { windowExists, keyPrefixMatch, processExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with svelte 3.59\nfunction svelteWebDetect() {\n  return windowExists() && keyPrefixMatch(window, '__SVELTE');\n}\nfunction svelteSSRDetect() {\n  return processExists() && typeof process.env !== 'undefined' && !!Object.keys(process.env).find(key => key.includes('svelte'));\n}\nexport { svelteSSRDetect, svelteWebDetect };\n", "import { windowExists, globalExists, keyPrefixMatch } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with next 13.4 / react 18.2\nfunction nextWebDetect() {\n  return windowExists() && window.next && typeof window.next === 'object';\n}\nfunction nextSSRDetect() {\n  return globalExists() && (keyPrefixMatch(global, '__next') || keyPrefixMatch(global, '__NEXT'));\n}\nexport { nextSSRDetect, nextWebDetect };\n", "import { windowExists, globalExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with nuxt 2.15 / vue 2.7\nfunction nuxtWebDetect() {\n  return windowExists() && (window.__NUXT__ !== undefined || window.$nuxt !== undefined);\n}\nfunction nuxtSSRDetect() {\n  return globalExists() && typeof global.__NUXT_PATHS__ !== 'undefined';\n}\nexport { nuxtSSRDetect, nuxtWebDetect };\n", "import { documentExists, processExists, windowExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with @angular/core 16.0.0\nfunction angularWebDetect() {\n  const angularVersionSetInDocument = Boolean(documentExists() && document.querySelector('[ng-version]'));\n  const angularContentSetInWindow = Boolean(windowExists() && typeof window.ng !== 'undefined');\n  return angularVersionSetInDocument || angularContentSetInWindow;\n}\nfunction angularSSRDetect() {\n  return processExists() && typeof process.env === 'object' && process.env.npm_lifecycle_script?.startsWith('ng ') || false;\n}\nexport { angularSSRDetect, angularWebDetect };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with react-native 0.17.7\nfunction reactNativeDetect() {\n  return typeof navigator !== 'undefined' && typeof navigator.product !== 'undefined' && navigator.product === 'ReactNative';\n}\nexport { reactNativeDetect };\n", "import { globalExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with expo 48 / react-native 0.71.3\nfunction expoDetect() {\n  return globalExists() && typeof global.expo !== 'undefined';\n}\nexport { expoDetect };\n", "import { windowExists } from './helpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nfunction webDetect() {\n  return windowExists();\n}\nexport { webDetect };\n", "import { Framework } from '../types.mjs';\nimport { reactWebDetect, reactSSRDetect } from './React.mjs';\nimport { vueWebDetect, vueSSRDetect } from './Vue.mjs';\nimport { svelteWebDetect, svelteSSRDetect } from './Svelte.mjs';\nimport { nextWebDetect, nextSSRDetect } from './Next.mjs';\nimport { nuxtWebDetect, nuxtSSRDetect } from './Nuxt.mjs';\nimport { angularWebDetect, angularSSRDetect } from './Angular.mjs';\nimport { reactNativeDetect } from './ReactNative.mjs';\nimport { expoDetect } from './Expo.mjs';\nimport { webDetect } from './Web.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// These are in the order of detection where when both are detectable, the early Framework will be reported\nconst detectionMap = [\n// First, detect mobile\n{\n  platform: Framework.Expo,\n  detectionMethod: expoDetect\n}, {\n  platform: Framework.ReactNative,\n  detectionMethod: reactNativeDetect\n},\n// Next, detect web frameworks\n{\n  platform: Framework.NextJs,\n  detectionMethod: nextWebDetect\n}, {\n  platform: Framework.Nuxt,\n  detectionMethod: nuxtWebDetect\n}, {\n  platform: Framework.Angular,\n  detectionMethod: angularWebDetect\n}, {\n  platform: Framework.React,\n  detectionMethod: reactWebDetect\n}, {\n  platform: Framework.VueJs,\n  detectionMethod: vueWebDetect\n}, {\n  platform: Framework.Svelte,\n  detectionMethod: svelteWebDetect\n}, {\n  platform: Framework.WebUnknown,\n  detectionMethod: webDetect\n},\n// Last, detect ssr frameworks\n{\n  platform: Framework.NextJsSSR,\n  detectionMethod: nextSSRDetect\n}, {\n  platform: Framework.NuxtSSR,\n  detectionMethod: nuxtSSRDetect\n}, {\n  platform: Framework.ReactSSR,\n  detectionMethod: reactSSRDetect\n}, {\n  platform: Framework.VueJsSSR,\n  detectionMethod: vueSSRDetect\n}, {\n  platform: Framework.AngularSSR,\n  detectionMethod: angularSSRDetect\n}, {\n  platform: Framework.SvelteSSR,\n  detectionMethod: svelteSSRDetect\n}];\nfunction detect() {\n  return detectionMap.find(detectionEntry => detectionEntry.detectionMethod())?.platform || Framework.ServerSideUnknown;\n}\nexport { detect };\n", "import { Framework } from './types.mjs';\nimport { detect } from './detection/index.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// We want to cache detection since the framework won't change\nlet frameworkCache;\nconst frameworkChangeObservers = [];\n// Setup the detection reset tracking / timeout delays\nlet resetTriggered = false;\nconst SSR_RESET_TIMEOUT = 10; // ms\nconst WEB_RESET_TIMEOUT = 10; // ms\nconst PRIME_FRAMEWORK_DELAY = 1000; // ms\nconst detectFramework = () => {\n  if (!frameworkCache) {\n    frameworkCache = detect();\n    if (resetTriggered) {\n      // The final run of detectFramework:\n      // Starting from this point, the `frameworkCache` becomes \"final\".\n      // So we don't need to notify the observers again so the observer\n      // can be removed after the final notice.\n      while (frameworkChangeObservers.length) {\n        frameworkChangeObservers.pop()?.();\n      }\n    } else {\n      // The first run of detectFramework:\n      // Every time we update the cache, call each observer function\n      frameworkChangeObservers.forEach(fcn => {\n        fcn();\n      });\n    }\n    // Retry once for either Unknown type after a delay (explained below)\n    resetTimeout(Framework.ServerSideUnknown, SSR_RESET_TIMEOUT);\n    resetTimeout(Framework.WebUnknown, WEB_RESET_TIMEOUT);\n  }\n  return frameworkCache;\n};\n/**\n * @internal Setup observer callback that will be called everytime the framework changes\n */\nconst observeFrameworkChanges = fcn => {\n  // When the `frameworkCache` won't be updated again, we ignore all incoming\n  // observers.\n  if (resetTriggered) {\n    return;\n  }\n  frameworkChangeObservers.push(fcn);\n};\nfunction clearCache() {\n  frameworkCache = undefined;\n}\n// For a framework type and a delay amount, setup the event to re-detect\n//   During the runtime boot, it is possible that framework detection will\n//   be triggered before the framework has made modifications to the\n//   global/window/etc needed for detection. When no framework is detected\n//   we will reset and try again to ensure we don't use a cached\n//   non-framework detection result for all requests.\nfunction resetTimeout(framework, delay) {\n  if (frameworkCache === framework && !resetTriggered) {\n    setTimeout(() => {\n      clearCache();\n      resetTriggered = true;\n      setTimeout(detectFramework, PRIME_FRAMEWORK_DELAY);\n    }, delay);\n  }\n}\nexport { clearCache, detectFramework, frameworkChangeObservers, observeFrameworkChanges };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Maintains custom user-agent state set by external consumers.\nconst customUserAgentState = {};\n/**\n * Sets custom user agent state which will be appended to applicable requests. Returns a function that can be used to\n * clean up any custom state set with this API.\n *\n * @note\n * This API operates globally. Calling this API multiple times will result in the most recently set values for a\n * particular API being used.\n *\n * @note\n * This utility IS NOT compatible with SSR.\n *\n * @param input - SetCustomUserAgentInput that defines custom state to apply to the specified APIs.\n */\nconst setCustomUserAgent = input => {\n  // Save custom user-agent state & increment reference counter\n  // TODO Remove `any` when we upgrade to TypeScript 5.2, see: https://github.com/microsoft/TypeScript/issues/44373\n  customUserAgentState[input.category] = input.apis.reduce((acc, api) => ({\n    ...acc,\n    [api]: {\n      refCount: acc[api]?.refCount ? acc[api].refCount + 1 : 1,\n      additionalDetails: input.additionalDetails\n    }\n  }), customUserAgentState[input.category] ?? {});\n  // Callback that cleans up state for APIs recorded by this call\n  let cleanUpCallbackCalled = false;\n  const cleanUpCallback = () => {\n    // Only allow the cleanup callback to be called once\n    if (cleanUpCallbackCalled) {\n      return;\n    }\n    cleanUpCallbackCalled = true;\n    input.apis.forEach(api => {\n      const apiRefCount = customUserAgentState[input.category][api].refCount;\n      if (apiRefCount > 1) {\n        customUserAgentState[input.category][api].refCount = apiRefCount - 1;\n      } else {\n        delete customUserAgentState[input.category][api];\n        // Clean up category if no more APIs set\n        if (!Object.keys(customUserAgentState[input.category]).length) {\n          delete customUserAgentState[input.category];\n        }\n      }\n    });\n  };\n  return cleanUpCallback;\n};\nconst getCustomUserAgent = (category, api) => customUserAgentState[category]?.[api]?.additionalDetails;\nexport { getCustomUserAgent, setCustomUserAgent };\n", "import { Framework } from './types.mjs';\nimport { version } from './version.mjs';\nimport { detectFramework, observeFrameworkChanges } from './detectFramework.mjs';\nimport { getCustomUserAgent } from './customUserAgent.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst BASE_USER_AGENT = `aws-amplify`;\n/** Sanitize Amplify version string be removing special character + and character post the special character  */\nconst sanitizeAmplifyVersion = amplifyVersion => amplifyVersion.replace(/\\+.*/, '');\nclass PlatformBuilder {\n  constructor() {\n    this.userAgent = `${BASE_USER_AGENT}/${sanitizeAmplifyVersion(version)}`;\n  }\n  get framework() {\n    return detectFramework();\n  }\n  get isReactNative() {\n    return this.framework === Framework.ReactNative || this.framework === Framework.Expo;\n  }\n  observeFrameworkChanges(fcn) {\n    observeFrameworkChanges(fcn);\n  }\n}\nconst Platform = new PlatformBuilder();\nconst getAmplifyUserAgentObject = ({\n  category,\n  action\n} = {}) => {\n  const userAgent = [[BASE_USER_AGENT, sanitizeAmplifyVersion(version)]];\n  if (category) {\n    userAgent.push([category, action]);\n  }\n  userAgent.push(['framework', detectFramework()]);\n  if (category && action) {\n    const customState = getCustomUserAgent(category, action);\n    if (customState) {\n      customState.forEach(state => {\n        userAgent.push(state);\n      });\n    }\n  }\n  return userAgent;\n};\nconst getAmplifyUserAgent = customUserAgentDetails => {\n  const userAgent = getAmplifyUserAgentObject(customUserAgentDetails);\n  const userAgentString = userAgent.map(([agentKey, agentValue]) => agentKey && agentValue ? `${agentKey}/${agentValue}` : agentKey).join(' ');\n  return userAgentString;\n};\nexport { Platform, getAmplifyUserAgent, getAmplifyUserAgentObject, sanitizeAmplifyVersion };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * All possible states a `BackgroundProcessManager` instance can be in.\n */\nvar BackgroundProcessManagerState;\n(function (BackgroundProcessManagerState) {\n  /**\n   * Accepting new jobs.\n   */\n  BackgroundProcessManagerState[\"Open\"] = \"Open\";\n  /**\n   * Not accepting new jobs. Waiting for submitted jobs to complete.\n   */\n  BackgroundProcessManagerState[\"Closing\"] = \"Closing\";\n  /**\n   * Not accepting new jobs. All submitted jobs are complete.\n   */\n  BackgroundProcessManagerState[\"Closed\"] = \"Closed\";\n})(BackgroundProcessManagerState || (BackgroundProcessManagerState = {}));\nexport { BackgroundProcessManagerState };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst isWebWorker = () => {\n  if (typeof self === 'undefined') {\n    return false;\n  }\n  const selfContext = self;\n  return typeof selfContext.WorkerGlobalScope !== 'undefined' && self instanceof selfContext.WorkerGlobalScope;\n};\nexport { isWebWorker };\n", "import { from, Observable } from 'rxjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\nimport '../utils/getClientInfo/getClientInfo.mjs';\nimport { isWebWorker } from '../utils/isWebWorker.mjs';\nimport '../utils/retry/retry.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass Reachability {\n  networkMonitor(_) {\n    const globalObj = isWebWorker() ? self : typeof window !== 'undefined' && window;\n    if (!globalObj) {\n      return from([{\n        online: true\n      }]);\n    }\n    return new Observable(observer => {\n      observer.next({\n        online: globalObj.navigator.onLine\n      });\n      const notifyOnline = () => {\n        observer.next({\n          online: true\n        });\n      };\n      const notifyOffline = () => {\n        observer.next({\n          online: false\n        });\n      };\n      globalObj.addEventListener('online', notifyOnline);\n      globalObj.addEventListener('offline', notifyOffline);\n      Reachability._observers.push(observer);\n      return () => {\n        globalObj.removeEventListener('online', notifyOnline);\n        globalObj.removeEventListener('offline', notifyOffline);\n        Reachability._observers = Reachability._observers.filter(_observer => _observer !== observer);\n      };\n    });\n  }\n  // expose observers to simulate offline mode for integration testing\n  static _observerOverride(status) {\n    for (const observer of this._observers) {\n      if (observer.closed) {\n        this._observers = this._observers.filter(_observer => _observer !== observer);\n        continue;\n      }\n      observer?.next && observer.next(status);\n    }\n  }\n}\nReachability._observers = [];\nexport { Reachability };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst isBrowser = () => typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport { isBrowser };\n", "import { isBrowser } from '../isBrowser.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst stateChangeListeners = new Set();\nclass SessionListener {\n  constructor() {\n    this.listenerActive = false;\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    // Setup state listeners\n    if (isBrowser()) {\n      document.addEventListener('visibilitychange', this.handleVisibilityChange, false);\n      this.listenerActive = true;\n    }\n  }\n  addStateChangeListener(listener, notifyOnAdd = false) {\n    // No-op if document listener is not active\n    if (!this.listenerActive) {\n      return;\n    }\n    stateChangeListeners.add(listener);\n    // Notify new handlers of the current status on add\n    if (notifyOnAdd) {\n      listener(this.getSessionState());\n    }\n  }\n  removeStateChangeListener(handler) {\n    // No-op if document listener is not active\n    if (!this.listenerActive) {\n      return;\n    }\n    stateChangeListeners.delete(handler);\n  }\n  handleVisibilityChange() {\n    this.notifyHandlers();\n  }\n  notifyHandlers() {\n    const sessionState = this.getSessionState();\n    stateChangeListeners.forEach(listener => {\n      listener(sessionState);\n    });\n  }\n  getSessionState() {\n    if (isBrowser() && document.visibilityState !== 'hidden') {\n      return 'started';\n    }\n    // If, for any reason, document is undefined the session will never start\n    return 'ended';\n  }\n}\nexport { SessionListener };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Standard session start & stop event names\nconst SESSION_START_EVENT = '_session.start';\nconst SESSION_STOP_EVENT = '_session.stop';\nexport { SESSION_START_EVENT, SESSION_STOP_EVENT };\n", "import { SessionListener } from './SessionListener.mjs';\nexport { SESSION_START_EVENT, SESSION_STOP_EVENT } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst sessionListener = new SessionListener();\nexport { sessionListener };\n", "import { ConsoleLogger } from '../../Logger/ConsoleLogger.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('Auth');\nclass AuthClass {\n  /**\n   * Configure Auth category\n   *\n   * @internal\n   *\n   * @param authResourcesConfig - Resources configurations required by Auth providers.\n   * @param authOptions - Client options used by library\n   *\n   * @returns void\n   */\n  configure(authResourcesConfig, authOptions) {\n    this.authConfig = authResourcesConfig;\n    this.authOptions = authOptions;\n    if (authResourcesConfig && authResourcesConfig.Cognito?.userPoolEndpoint) {\n      logger.warn(getCustomEndpointWarningMessage('Amazon Cognito User Pool'));\n    }\n    if (authResourcesConfig && authResourcesConfig.Cognito?.identityPoolEndpoint) {\n      logger.warn(getCustomEndpointWarningMessage('Amazon Cognito Identity Pool'));\n    }\n  }\n  /**\n   * Fetch the auth tokens, and the temporary AWS credentials and identity if they are configured. By default it\n   * does not refresh the auth tokens or credentials if they are loaded in storage already. You can force a refresh\n   * with `{ forceRefresh: true }` input.\n   *\n   * @param options - Options configuring the fetch behavior.\n   *\n   * @returns Promise of current auth session {@link AuthSession}.\n   */\n  async fetchAuthSession(options = {}) {\n    let credentialsAndIdentityId;\n    let userSub;\n    // Get tokens will throw if session cannot be refreshed (network or service error) or return null if not available\n    const tokens = await this.getTokens(options);\n    if (tokens) {\n      userSub = tokens.accessToken?.payload?.sub;\n      // getCredentialsAndIdentityId will throw if cannot get credentials (network or service error)\n      credentialsAndIdentityId = await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({\n        authConfig: this.authConfig,\n        tokens,\n        authenticated: true,\n        forceRefresh: options.forceRefresh\n      });\n    } else {\n      // getCredentialsAndIdentityId will throw if cannot get credentials (network or service error)\n      credentialsAndIdentityId = await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({\n        authConfig: this.authConfig,\n        authenticated: false,\n        forceRefresh: options.forceRefresh\n      });\n    }\n    return {\n      tokens,\n      credentials: credentialsAndIdentityId?.credentials,\n      identityId: credentialsAndIdentityId?.identityId,\n      userSub\n    };\n  }\n  async clearCredentials() {\n    await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId();\n  }\n  async getTokens(options) {\n    return (await this.authOptions?.tokenProvider?.getTokens(options)) ?? undefined;\n  }\n}\nconst getCustomEndpointWarningMessage = target => `You are using a custom Amazon ${target} endpoint, ensure the endpoint is correct.`;\nexport { AuthClass };\n", "import { Hub, AMPLIFY_SYMBOL } from '../Hub/index.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\nimport '../utils/getClientInfo/getClientInfo.mjs';\nimport '../utils/retry/retry.mjs';\nimport { deepFreeze } from '../utils/deepFreeze.mjs';\nimport '../parseAWSExports.mjs';\nimport { ADD_OAUTH_LISTENER } from './constants.mjs';\nimport 'uuid';\nimport { parseAmplifyConfig } from '../utils/parseAmplifyConfig.mjs';\nimport './Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../Platform/index.mjs';\nimport '../Platform/types.mjs';\nimport '../BackgroundProcessManager/types.mjs';\nimport '../Reachability/Reachability.mjs';\nimport '../utils/sessionListener/index.mjs';\nimport { AuthClass } from './Auth/index.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass AmplifyClass {\n  constructor() {\n    this.oAuthListener = undefined;\n    this.isConfigured = false;\n    this.resourcesConfig = {};\n    this.libraryOptions = {};\n    this.Auth = new AuthClass();\n  }\n  /**\n   * Configures Amplify for use with your back-end resources.\n   *\n   * @remarks\n   * This API does not perform any merging of either `resourcesConfig` or `libraryOptions`. The most recently\n   * provided values will be used after configuration.\n   *\n   * @remarks\n   * `configure` can be used to specify additional library options where available for supported categories.\n   *\n   * @param resourceConfig - Back-end resource configuration. Typically provided via the `aws-exports.js` file.\n   * @param libraryOptions - Additional options for customizing the behavior of the library.\n   */\n  configure(resourcesConfig, libraryOptions) {\n    const resolvedResourceConfig = parseAmplifyConfig(resourcesConfig);\n    this.resourcesConfig = resolvedResourceConfig;\n    if (libraryOptions) {\n      this.libraryOptions = libraryOptions;\n    }\n    // Make resource config immutable\n    this.resourcesConfig = deepFreeze(this.resourcesConfig);\n    this.Auth.configure(this.resourcesConfig.Auth, this.libraryOptions.Auth);\n    Hub.dispatch('core', {\n      event: 'configure',\n      data: this.resourcesConfig\n    }, 'Configure', AMPLIFY_SYMBOL);\n    this.notifyOAuthListener();\n    this.isConfigured = true;\n  }\n  /**\n   * Provides access to the current back-end resource configuration for the Library.\n   *\n   * @returns Returns the immutable back-end resource configuration.\n   */\n  getConfig() {\n    if (!this.isConfigured) {\n      // eslint-disable-next-line no-console\n      console.warn(`Amplify has not been configured. Please call Amplify.configure() before using this service.`);\n    }\n    return this.resourcesConfig;\n  }\n  /** @internal */\n  [ADD_OAUTH_LISTENER](listener) {\n    if (this.resourcesConfig.Auth?.Cognito.loginWith?.oauth) {\n      // when Amplify has been configured with a valid OAuth config while adding the listener, run it directly\n      listener(this.resourcesConfig.Auth?.Cognito);\n    } else {\n      // otherwise register the listener and run it later when Amplify gets configured with a valid oauth config\n      this.oAuthListener = listener;\n    }\n  }\n  notifyOAuthListener() {\n    if (!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth || !this.oAuthListener) {\n      return;\n    }\n    this.oAuthListener(this.resourcesConfig.Auth?.Cognito);\n    // the listener should only be notified once with a valid oauth config\n    this.oAuthListener = undefined;\n  }\n}\n/**\n * The `Amplify` utility is used to configure the library.\n *\n * @remarks\n * `Amplify` orchestrates cross-category communication within the library.\n */\nconst Amplify = new AmplifyClass();\nexport { Amplify, AmplifyClass };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst fetchAuthSession = (amplify, options) => {\n  return amplify.Auth.fetchAuthSession(options);\n};\nexport { fetchAuthSession };\n", "import { Amplify } from '../Amplify.mjs';\nimport { fetchAuthSession as fetchAuthSession$1 } from './internal/fetchAuthSession.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Fetch the auth session including the tokens and credentials if they are available. By default it\n * does not refresh the auth tokens or credentials if they are loaded in storage already. You can force a refresh\n * with `{ forceRefresh: true }` input.\n *\n * @param options - Options configuring the fetch behavior.\n * @throws {@link AuthError} - Throws error when session information cannot be refreshed.\n * @returns Promise<AuthSession>\n */\nconst fetchAuthSession = options => {\n  return fetchAuthSession$1(Amplify, options);\n};\nexport { fetchAuthSession };\n", "import { Amplify } from '../Amplify.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nfunction clearCredentials() {\n  return Amplify.Auth.clearCredentials();\n}\nexport { clearCredentials };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst parseMetadata = response => {\n  const {\n    headers,\n    statusCode\n  } = response;\n  return {\n    ...(isMetadataBearer(response) ? response.$metadata : {}),\n    httpStatusCode: statusCode,\n    requestId: headers['x-amzn-requestid'] ?? headers['x-amzn-request-id'] ?? headers['x-amz-request-id'],\n    extendedRequestId: headers['x-amz-id-2'],\n    cfId: headers['x-amz-cf-id']\n  };\n};\nconst isMetadataBearer = response => typeof response?.$metadata === 'object';\nexport { parseMetadata };\n", "import { parseMetadata } from './responseInfo.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Utility functions for serializing and deserializing of JSON protocol in general(including: REST-JSON, JSON-RPC, etc.)\n */\n/**\n * Error parser for AWS JSON protocol.\n */\nconst parseJsonError = async response => {\n  if (!response || response.statusCode < 300) {\n    return;\n  }\n  const body = await parseJsonBody(response);\n  const sanitizeErrorCode = rawValue => {\n    const [cleanValue] = rawValue.toString().split(/[,:]+/);\n    if (cleanValue.includes('#')) {\n      return cleanValue.split('#')[1];\n    }\n    return cleanValue;\n  };\n  const code = sanitizeErrorCode(response.headers['x-amzn-errortype'] ?? body.code ?? body.__type ?? 'UnknownError');\n  const message = body.message ?? body.Message ?? 'Unknown error';\n  const error = new Error(message);\n  return Object.assign(error, {\n    name: code,\n    $metadata: parseMetadata(response)\n  });\n};\n/**\n * Parse JSON response body to JavaScript object.\n */\nconst parseJsonBody = async response => {\n  if (!response.body) {\n    throw new Error('Missing response payload');\n  }\n  const output = await response.body.json();\n  return Object.assign(output, {\n    $metadata: parseMetadata(response)\n  });\n};\nexport { parseJsonBody, parseJsonError };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Compose a service API handler that accepts input as defined shape and responds conforming to defined output shape.\n * A service API handler is composed with:\n * * A transfer handler\n * * A serializer function\n * * A deserializer function\n * * A default config object\n *\n * The returned service API handler, when called, will trigger the following workflow:\n * 1. When calling the service API handler function, the default config object is merged into the input config\n * object to assign the default values of some omitted configs, resulting to a resolved config object.\n * 2. The `endpointResolver` function from the default config object will be invoked with the resolved config object and\n * API input object resulting to an endpoint instance.\n * 3. The serializer function is invoked with API input object and the endpoint instance resulting to an HTTP request\n * instance.\n * 4. The HTTP request instance and the resolved config object is passed to the transfer handler function.\n * 5. The transfer handler function resolves to an HTTP response instance(can be either successful or failed status code).\n * 6. The deserializer function is invoked with the HTTP response instance resulting to the API output object, and\n * return to the caller.\n *\n *\n * @param transferHandler Async function for dispatching HTTP requests and returning HTTP response.\n * @param serializer  Async function for converting object in defined input shape into HTTP request targeting a given\n * \tendpoint.\n * @param deserializer Async function for converting HTTP response into output object in defined output shape, or error\n * \tshape.\n * @param defaultConfig  object containing default options to be consumed by transfer handler, serializer and\n *  deserializer.\n * @returns a async service API handler function that accepts a config object and input object in defined shape, returns\n * \tan output object in defined shape. It may also throw error instance in defined shape in deserializer. The config\n *  object type is composed with options type of transferHandler, endpointResolver function as well as endpointResolver\n *  function's input options type, region string. The config object property will be marked as optional if it's also\n * \tdefined in defaultConfig.\n *\n * @internal\n */\nconst composeServiceApi = (transferHandler, serializer, deserializer, defaultConfig) => {\n  return async (config, input) => {\n    const resolvedConfig = {\n      ...defaultConfig,\n      ...config\n    };\n    // We need to allow different endpoints based on both given config(other than region) and input.\n    // However for most of non-S3 services, region is the only input for endpoint resolver.\n    const endpoint = await resolvedConfig.endpointResolver(resolvedConfig, input);\n    // Unlike AWS SDK clients, a serializer should NOT populate the `host` or `content-length` headers.\n    // Both of these headers are prohibited per Spec(https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name).\n    // They will be populated automatically by browser, or node-fetch polyfill.\n    const request = await serializer(input, endpoint);\n    const response = await transferHandler(request, {\n      ...resolvedConfig\n    });\n    return deserializer(response);\n  };\n};\nexport { composeServiceApi };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst MAX_DELAY_MS = 5 * 60 * 1000;\nexport { MAX_DELAY_MS };\n", "import { MAX_DELAY_MS } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @private\n * Internal use of Amplify only\n */\nfunction jitteredBackoff(maxDelayMs = MAX_DELAY_MS) {\n  const BASE_TIME_MS = 100;\n  const JITTER_FACTOR = 100;\n  return attempt => {\n    const delay = 2 ** attempt * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\nexport { jitteredBackoff };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst DEFAULT_RETRY_ATTEMPTS = 3;\nconst AMZ_SDK_INVOCATION_ID_HEADER = 'amz-sdk-invocation-id';\nconst AMZ_SDK_REQUEST_HEADER = 'amz-sdk-request';\nconst DEFAULT_MAX_DELAY_MS = 5 * 60 * 1000;\nexport { AMZ_SDK_INVOCATION_ID_HEADER, AMZ_SDK_REQUEST_HEADER, DEFAULT_MAX_DELAY_MS, DEFAULT_RETRY_ATTEMPTS };\n", "import '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport '../../../utils/getClientInfo/getClientInfo.mjs';\nimport { jitteredBackoff as jitteredBackoff$1 } from '../../../utils/retry/jitteredBackoff.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport { DEFAULT_MAX_DELAY_MS } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// TODO: [v6] The separate retry utility is used by Data packages now and will replaced by retry middleware.\nconst jitteredBackoff = attempt => {\n  const delayFunction = jitteredBackoff$1(DEFAULT_MAX_DELAY_MS);\n  const delay = delayFunction(attempt);\n  // The delayFunction returns false when the delay is greater than the max delay(5 mins).\n  // In this case, the retry middleware will delay 5 mins instead, as a ceiling of the delay.\n  return delay === false ? DEFAULT_MAX_DELAY_MS : delay;\n};\nexport { jitteredBackoff };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// via https://github.com/aws/aws-sdk-js-v3/blob/ab0e7be36e7e7f8a0c04834357aaad643c7912c3/packages/service-error-classification/src/constants.ts#L8\nconst CLOCK_SKEW_ERROR_CODES = ['AuthFailure', 'InvalidSignatureException', 'RequestExpired', 'RequestInTheFuture', 'RequestTimeTooSkewed', 'SignatureDoesNotMatch', 'BadRequestException' // API Gateway\n];\n/**\n * Given an error code, returns true if it is related to a clock skew error.\n *\n * @param errorCode String representation of some error.\n * @returns True if given error is present in `CLOCK_SKEW_ERROR_CODES`, false otherwise.\n *\n * @internal\n */\nconst isClockSkewError = errorCode => !!errorCode && CLOCK_SKEW_ERROR_CODES.includes(errorCode);\nexport { isClockSkewError };\n", "import { AmplifyErrorCode } from '../../../types/errors.mjs';\nimport { isClockSkewError } from './isClockSkewError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Get retry decider function\n * @param errorParser Function to load JavaScript error from HTTP response\n */\nconst getRetryDecider = errorParser => async (response, error) => {\n  const parsedError = error ?? (await errorParser(response)) ?? undefined;\n  const errorCode = parsedError?.code || parsedError?.name;\n  const statusCode = response?.statusCode;\n  const isRetryable = isConnectionError(error) || isThrottlingError(statusCode, errorCode) || isClockSkewError(errorCode) || isServerSideError(statusCode, errorCode);\n  return {\n    retryable: isRetryable\n  };\n};\n// reference: https://github.com/aws/aws-sdk-js-v3/blob/ab0e7be36e7e7f8a0c04834357aaad643c7912c3/packages/service-error-classification/src/constants.ts#L22-L37\nconst THROTTLING_ERROR_CODES = ['BandwidthLimitExceeded', 'EC2ThrottledException', 'LimitExceededException', 'PriorRequestNotComplete', 'ProvisionedThroughputExceededException', 'RequestLimitExceeded', 'RequestThrottled', 'RequestThrottledException', 'SlowDown', 'ThrottledException', 'Throttling', 'ThrottlingException', 'TooManyRequestsException'];\nconst TIMEOUT_ERROR_CODES = ['TimeoutError', 'RequestTimeout', 'RequestTimeoutException'];\nconst isThrottlingError = (statusCode, errorCode) => statusCode === 429 || !!errorCode && THROTTLING_ERROR_CODES.includes(errorCode);\nconst isConnectionError = error => [AmplifyErrorCode.NetworkError,\n// TODO(vNext): unify the error code `ERR_NETWORK` used by the Storage XHR handler\n'ERR_NETWORK'].includes(error?.name);\nconst isServerSideError = (statusCode, errorCode) => !!statusCode && [500, 502, 503, 504].includes(statusCode) || !!errorCode && TIMEOUT_ERROR_CODES.includes(errorCode);\nexport { getRetryDecider };\n", "import '../../../../types/errors.mjs';\nimport '../../../../errors/errorHelpers.mjs';\nimport { jitteredBackoff } from '../../../../clients/middleware/retry/jitteredBackoff.mjs';\nimport { getRetryDecider } from '../../../../clients/middleware/retry/defaultRetryDecider.mjs';\nimport '../../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../../utils/retry/retry.mjs';\nimport '../../../../parseAWSExports.mjs';\nimport 'uuid';\nimport '../../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../../../../Platform/index.mjs';\nimport '../../../../Platform/types.mjs';\nimport '../../../../BackgroundProcessManager/types.mjs';\nimport '../../../../Reachability/Reachability.mjs';\nimport '../../../../Hub/index.mjs';\nimport '../../../../utils/sessionListener/index.mjs';\nimport { parseJsonError } from '../../../../clients/serde/json.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * The service name used to sign requests if the API requires authentication.\n */\nconst COGNITO_IDENTITY_SERVICE_NAME = 'cognito-identity';\nconst DEFAULT_SERVICE_CLIENT_API_CONFIG = {\n  service: COGNITO_IDENTITY_SERVICE_NAME,\n  retryDecider: getRetryDecider(parseJsonError),\n  computeDelay: jitteredBackoff,\n  cache: 'no-store'\n};\nexport { COGNITO_IDENTITY_SERVICE_NAME, DEFAULT_SERVICE_CLIENT_API_CONFIG };\n", "import { DEFAULT_RETRY_ATTEMPTS } from './constants.mjs';\n\n/**\n * Middleware that executes the retry logic.\n */\nconst retryMiddlewareFactory = ({\n  maxAttempts = DEFAULT_RETRY_ATTEMPTS,\n  retryDecider,\n  computeDelay,\n  abortSignal\n}) => {\n  if (maxAttempts < 1) {\n    throw new Error('maxAttempts must be greater than 0');\n  }\n  return (next, context) => async function retryMiddleware(request) {\n    let error;\n    let attemptsCount = context.attemptsCount ?? 0;\n    let response;\n    // When retry is not needed or max attempts is reached, either error or response will be set. This function handles either cases.\n    const handleTerminalErrorOrResponse = () => {\n      if (response) {\n        addOrIncrementMetadataAttempts(response, attemptsCount);\n        return response;\n      } else {\n        addOrIncrementMetadataAttempts(error, attemptsCount);\n        throw error;\n      }\n    };\n    while (!abortSignal?.aborted && attemptsCount < maxAttempts) {\n      try {\n        response = await next(request);\n        error = undefined;\n      } catch (e) {\n        error = e;\n        response = undefined;\n      }\n      // context.attemptsCount may be updated after calling next handler which may retry the request by itself.\n      attemptsCount = (context.attemptsCount ?? 0) > attemptsCount ? context.attemptsCount ?? 0 : attemptsCount + 1;\n      context.attemptsCount = attemptsCount;\n      const {\n        isCredentialsExpiredError,\n        retryable\n      } = await retryDecider(response, error, context);\n      if (retryable) {\n        // Setting isCredentialsInvalid flag to notify signing middleware to forceRefresh credentials provider.\n        context.isCredentialsExpired = !!isCredentialsExpiredError;\n        if (!abortSignal?.aborted && attemptsCount < maxAttempts) {\n          // prevent sleep for last attempt or cancelled request;\n          const delay = computeDelay(attemptsCount);\n          await cancellableSleep(delay, abortSignal);\n        }\n        continue;\n      } else {\n        return handleTerminalErrorOrResponse();\n      }\n    }\n    if (abortSignal?.aborted) {\n      throw new Error('Request aborted.');\n    } else {\n      return handleTerminalErrorOrResponse();\n    }\n  };\n};\nconst cancellableSleep = (timeoutMs, abortSignal) => {\n  if (abortSignal?.aborted) {\n    return Promise.resolve();\n  }\n  let timeoutId;\n  let sleepPromiseResolveFn;\n  const sleepPromise = new Promise(resolve => {\n    sleepPromiseResolveFn = resolve;\n    timeoutId = setTimeout(resolve, timeoutMs);\n  });\n  abortSignal?.addEventListener('abort', function cancelSleep(_) {\n    clearTimeout(timeoutId);\n    abortSignal?.removeEventListener('abort', cancelSleep);\n    sleepPromiseResolveFn();\n  });\n  return sleepPromise;\n};\nconst addOrIncrementMetadataAttempts = (nextHandlerOutput, attempts) => {\n  if (Object.prototype.toString.call(nextHandlerOutput) !== '[object Object]') {\n    return;\n  }\n  nextHandlerOutput.$metadata = {\n    ...(nextHandlerOutput.$metadata ?? {}),\n    attempts\n  };\n};\nexport { retryMiddlewareFactory };\n", "import { v4 } from 'uuid';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst amplifyUuid = v4;\nexport { amplifyUuid };\n", "import '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport '../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport '../../../parseAWSExports.mjs';\nimport { amplifyUuid } from '../../../utils/amplifyUuid/index.mjs';\nimport '../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../../../Platform/index.mjs';\nimport '../../../Platform/types.mjs';\nimport '../../../BackgroundProcessManager/types.mjs';\nimport '../../../Reachability/Reachability.mjs';\nimport '../../../Hub/index.mjs';\nimport '../../../utils/sessionListener/index.mjs';\nimport { AMZ_SDK_INVOCATION_ID_HEADER } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects a UUID string to `amz-sdk-invocation-id` header.\n * if the header is not set already. This header is helpful to provide\n * observability to group the requests caused by automatic retry.\n *\n * This middleware is standalone because of extra UUID dependency, we will\n * NOT use this middleware for API categories.\n *\n * Ref: https://sdk.amazonaws.com/kotlin/api/smithy-kotlin/api/1.0.9/http-client/aws.smithy.kotlin.runtime.http.operation/-http-operation-context/-sdk-invocation-id.html\n */\nconst amzSdkInvocationIdHeaderMiddlewareFactory = () => next => {\n  return async function amzSdkInvocationIdHeaderMiddleware(request) {\n    if (!request.headers[AMZ_SDK_INVOCATION_ID_HEADER]) {\n      request.headers[AMZ_SDK_INVOCATION_ID_HEADER] = amplifyUuid();\n    }\n    return next(request);\n  };\n};\nexport { amzSdkInvocationIdHeaderMiddlewareFactory };\n", "import { DEFAULT_RETRY_ATTEMPTS, AMZ_SDK_REQUEST_HEADER } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects `amz-sdk-request` header to indicate the retry state at the time an HTTP request is made.\n * This middleware should co-exist with retryMiddleware as it relies on the retryAttempts value in middleware context\n * set by the retry middleware.\n *\n * Example header: `amz-sdk-request: attempt=1; max=3`.\n *\n * This middleware is standalone because of extra headers may conflict with custom endpoint settings(e.g. CORS), we will\n * NOT use this middleware for API categories.\n */\nconst amzSdkRequestHeaderMiddlewareFactory = ({\n  maxAttempts = DEFAULT_RETRY_ATTEMPTS\n}) => (next, context) => {\n  return async function amzSdkRequestHeaderMiddleware(request) {\n    const attemptsCount = context.attemptsCount ?? 0;\n    request.headers[AMZ_SDK_REQUEST_HEADER] = `attempt=${attemptsCount + 1}; max=${maxAttempts}`;\n    return next(request);\n  };\n};\nexport { amzSdkRequestHeaderMiddlewareFactory };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nconst userAgentMiddlewareFactory = ({\n  userAgentHeader = 'x-amz-user-agent',\n  userAgentValue = ''\n}) => next => {\n  return async function userAgentMiddleware(request) {\n    if (userAgentValue.trim().length === 0) {\n      const result = await next(request);\n      return result;\n    } else {\n      const headerName = userAgentHeader.toLowerCase();\n      request.headers[headerName] = request.headers[headerName] ? `${request.headers[headerName]} ${userAgentValue}` : userAgentValue;\n      const response = await next(request);\n      return response;\n    }\n  };\n};\nexport { userAgentMiddlewareFactory };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Compose a transfer handler with a core transfer handler and a list of middleware.\n * @param coreHandler Core transfer handler\n * @param middleware\tList of middleware\n * @returns A transfer handler whose option type is the union of the core\n * \ttransfer handler's option type and the middleware's option type.\n * @internal\n */\nconst composeTransferHandler = (coreHandler, middleware) => (request, options) => {\n  const context = {};\n  let composedHandler = composeHandlerRequest => coreHandler(composeHandlerRequest, options);\n  for (let i = middleware.length - 1; i >= 0; i--) {\n    const m = middleware[i];\n    const resolvedMiddleware = m(options);\n    composedHandler = resolvedMiddleware(composedHandler, context);\n  }\n  return composedHandler(request);\n};\nexport { composeTransferHandler };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Cache the payload of a response body. It allows multiple calls to the body,\n * for example, when reading the body in both retry decider and error deserializer.\n * Caching body is allowed here because we call the body accessor(blob(), json(),\n * etc.) when body is small or streaming implementation is not available(RN).\n *\n * @internal\n */\nconst withMemoization = payloadAccessor => {\n  let cached;\n  return () => {\n    if (!cached) {\n      // Explicitly not awaiting. Intermediate await would add overhead and\n      // introduce a possible race in the event that this wrapper is called\n      // again before the first `payloadAccessor` call resolves.\n      cached = payloadAccessor();\n    }\n    return cached;\n  };\n};\nexport { withMemoization };\n", "import { AmplifyError } from '../../errors/AmplifyError.mjs';\nimport { AmplifyErrorCode } from '../../types/errors.mjs';\nimport '../../errors/errorHelpers.mjs';\nimport { withMemoization } from '../utils/memoization.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst shouldSendBody = method => !['HEAD', 'GET', 'DELETE'].includes(method.toUpperCase());\n// TODO[AllanZhengYP]: we need to provide isCanceledError utility\nconst fetchTransferHandler = async ({\n  url,\n  method,\n  headers,\n  body\n}, {\n  abortSignal,\n  cache,\n  withCrossDomainCredentials\n}) => {\n  let resp;\n  try {\n    resp = await fetch(url, {\n      method,\n      headers,\n      body: shouldSendBody(method) ? body : undefined,\n      signal: abortSignal,\n      cache,\n      credentials: withCrossDomainCredentials ? 'include' : 'same-origin'\n    });\n  } catch (e) {\n    if (e instanceof TypeError) {\n      throw new AmplifyError({\n        name: AmplifyErrorCode.NetworkError,\n        message: 'A network error has occurred.',\n        underlyingError: e\n      });\n    }\n    throw e;\n  }\n  const responseHeaders = {};\n  resp.headers?.forEach((value, key) => {\n    responseHeaders[key.toLowerCase()] = value;\n  });\n  const httpResponse = {\n    statusCode: resp.status,\n    headers: responseHeaders,\n    body: null\n  };\n  // resp.body is a ReadableStream according to Fetch API spec, but React Native\n  // does not implement it.\n  const bodyWithMixin = Object.assign(resp.body ?? {}, {\n    text: withMemoization(() => resp.text()),\n    blob: withMemoization(() => resp.blob()),\n    json: withMemoization(() => resp.json())\n  });\n  return {\n    ...httpResponse,\n    body: bodyWithMixin\n  };\n};\nexport { fetchTransferHandler };\n", "import { retryMiddlewareFactory } from '../../middleware/retry/retryMiddleware.mjs';\nimport '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport '../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport { amzSdkInvocationIdHeaderMiddlewareFactory } from '../../middleware/retry/amzSdkInvocationIdHeaderMiddleware.mjs';\nimport { amzSdkRequestHeaderMiddlewareFactory } from '../../middleware/retry/amzSdkRequestHeaderMiddleware.mjs';\nimport { userAgentMiddlewareFactory } from '../../middleware/userAgent/middleware.mjs';\nimport { composeTransferHandler } from '../../internal/composeTransferHandler.mjs';\nimport { fetchTransferHandler } from '../fetch.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst unauthenticatedHandler = composeTransferHandler(fetchTransferHandler, [userAgentMiddlewareFactory, amzSdkInvocationIdHeaderMiddlewareFactory, retryMiddlewareFactory, amzSdkRequestHeaderMiddlewareFactory]);\nexport { unauthenticatedHandler };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * A Cognito Identity-specific middleware that disables caching for all requests.\n */\nconst createDisableCacheMiddleware = () => next => async function disableCacheMiddleware(request) {\n  request.headers['cache-control'] = 'no-store';\n  return next(request);\n};\nexport { createDisableCacheMiddleware };\n", "import '../../../../../types/errors.mjs';\nimport '../../../../../errors/errorHelpers.mjs';\nimport { unauthenticatedHandler } from '../../../../../clients/handlers/aws/unauthenticated.mjs';\nimport '../../../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../../../utils/retry/retry.mjs';\nimport '../../../../../parseAWSExports.mjs';\nimport 'uuid';\nimport '../../../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../../../../../Platform/index.mjs';\nimport '../../../../../Platform/types.mjs';\nimport '../../../../../BackgroundProcessManager/types.mjs';\nimport '../../../../../Reachability/Reachability.mjs';\nimport '../../../../../Hub/index.mjs';\nimport '../../../../../utils/sessionListener/index.mjs';\nimport { composeTransferHandler } from '../../../../../clients/internal/composeTransferHandler.mjs';\nimport { createDisableCacheMiddleware } from '../../../middleware/createDisableCacheMiddleware.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * A Cognito Identity-specific transfer handler that does NOT sign requests, and\n * disables caching.\n *\n * @internal\n */\nconst cognitoIdentityTransferHandler = composeTransferHandler(unauthenticatedHandler, [createDisableCacheMiddleware]);\nexport { cognitoIdentityTransferHandler };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createClientSerializer = operation => (input, endpoint) => {\n  const headers = getSharedHeaders(operation);\n  const body = JSON.stringify(input);\n  return buildHttpRpcRequest(endpoint, headers, body);\n};\nconst getSharedHeaders = operation => ({\n  'content-type': 'application/x-amz-json-1.1',\n  'x-amz-target': `AWSCognitoIdentityService.${operation}`\n});\nconst buildHttpRpcRequest = ({\n  url\n}, headers, body) => ({\n  headers,\n  url,\n  body,\n  method: 'POST'\n});\nexport { buildHttpRpcRequest, createClientSerializer };\n", "import '../../../../types/errors.mjs';\nimport '../../../../errors/errorHelpers.mjs';\nimport '../../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../../utils/retry/retry.mjs';\nimport '../../../../parseAWSExports.mjs';\nimport 'uuid';\nimport '../../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport { getAmplifyUserAgent } from '../../../../Platform/index.mjs';\nimport '../../../../Platform/types.mjs';\nimport '../../../../BackgroundProcessManager/types.mjs';\nimport '../../../../Reachability/Reachability.mjs';\nimport '../../../../Hub/index.mjs';\nimport '../../../../utils/sessionListener/index.mjs';\nimport { parseMetadata } from '../../../../clients/serde/responseInfo.mjs';\nimport { parseJsonError, parseJsonBody } from '../../../../clients/serde/json.mjs';\nimport { composeServiceApi } from '../../../../clients/internal/composeServiceApi.mjs';\nimport { DEFAULT_SERVICE_CLIENT_API_CONFIG } from './constants.mjs';\nimport { cognitoIdentityTransferHandler } from './handler/cognitoIdentityTransferHandler.mjs';\nimport { createClientSerializer } from './serde/createClientSerializer.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createGetCredentialsForIdentityClient = config => composeServiceApi(cognitoIdentityTransferHandler, createClientSerializer('GetCredentialsForIdentity'), getCredentialsForIdentityDeserializer, {\n  ...DEFAULT_SERVICE_CLIENT_API_CONFIG,\n  ...config,\n  userAgentValue: getAmplifyUserAgent()\n});\nconst getCredentialsForIdentityDeserializer = async response => {\n  if (response.statusCode >= 300) {\n    const error = await parseJsonError(response);\n    throw error;\n  }\n  const body = await parseJsonBody(response);\n  return {\n    IdentityId: body.IdentityId,\n    Credentials: deserializeCredentials(body.Credentials),\n    $metadata: parseMetadata(response)\n  };\n};\nconst deserializeCredentials = ({\n  Expiration,\n  ...rest\n} = {}) => ({\n  ...rest,\n  Expiration: Expiration && new Date(Expiration * 1000)\n});\nexport { createGetCredentialsForIdentityClient };\n", "import '../../../../types/errors.mjs';\nimport '../../../../errors/errorHelpers.mjs';\nimport '../../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../../utils/retry/retry.mjs';\nimport '../../../../parseAWSExports.mjs';\nimport 'uuid';\nimport '../../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport { getAmplifyUserAgent } from '../../../../Platform/index.mjs';\nimport '../../../../Platform/types.mjs';\nimport '../../../../BackgroundProcessManager/types.mjs';\nimport '../../../../Reachability/Reachability.mjs';\nimport '../../../../Hub/index.mjs';\nimport '../../../../utils/sessionListener/index.mjs';\nimport { parseMetadata } from '../../../../clients/serde/responseInfo.mjs';\nimport { parseJsonError, parseJsonBody } from '../../../../clients/serde/json.mjs';\nimport { composeServiceApi } from '../../../../clients/internal/composeServiceApi.mjs';\nimport { DEFAULT_SERVICE_CLIENT_API_CONFIG } from './constants.mjs';\nimport { cognitoIdentityTransferHandler } from './handler/cognitoIdentityTransferHandler.mjs';\nimport { createClientSerializer } from './serde/createClientSerializer.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createGetIdClient = config => composeServiceApi(cognitoIdentityTransferHandler, createClientSerializer('GetId'), getIdDeserializer, {\n  ...DEFAULT_SERVICE_CLIENT_API_CONFIG,\n  ...config,\n  userAgentValue: getAmplifyUserAgent()\n});\nconst getIdDeserializer = async response => {\n  if (response.statusCode >= 300) {\n    const error = await parseJsonError(response);\n    throw error;\n  }\n  const body = await parseJsonBody(response);\n  return {\n    IdentityId: body.IdentityId,\n    $metadata: parseMetadata(response)\n  };\n};\nexport { createGetIdClient };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Default partition for AWS services. This is used when the region is not provided or the region is not recognized.\n *\n * @internal\n */\nconst defaultPartition = {\n  id: 'aws',\n  outputs: {\n    dnsSuffix: 'amazonaws.com'\n  },\n  regionRegex: '^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$',\n  regions: ['aws-global']\n};\n/**\n * This data is adapted from the partition file from AWS SDK shared utilities but remove some contents for bundle size\n * concern. Information removed are `dualStackDnsSuffix`, `supportDualStack`, `supportFIPS`, restricted partitions, and\n * list of regions for each partition other than global regions.\n *\n * * Ref: https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints\n * * Ref: https://github.com/aws/aws-sdk-js-v3/blob/0201baef03c2379f1f6f7150b9d401d4b230d488/packages/util-endpoints/src/lib/aws/partitions.json#L1\n *\n * @internal\n */\nconst partitionsInfo = {\n  partitions: [defaultPartition, {\n    id: 'aws-cn',\n    outputs: {\n      dnsSuffix: 'amazonaws.com.cn'\n    },\n    regionRegex: '^cn\\\\-\\\\w+\\\\-\\\\d+$',\n    regions: ['aws-cn-global']\n  }]\n};\nexport { defaultPartition, partitionsInfo };\n", "import { partitionsInfo, defaultPartition } from './partitions.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Get the AWS Services endpoint URL's DNS suffix for a given region. A typical AWS regional service endpoint URL will\n * follow this pattern: {endpointPrefix}.{region}.{dnsSuffix}. For example, the endpoint URL for Cognito Identity in\n * us-east-1 will be cognito-identity.us-east-1.amazonaws.com. Here the DnsSuffix is `amazonaws.com`.\n *\n * @param region\n * @returns The DNS suffix\n *\n * @internal\n */\nconst getDnsSuffix = region => {\n  const {\n    partitions\n  } = partitionsInfo;\n  for (const {\n    regions,\n    outputs,\n    regionRegex\n  } of partitions) {\n    const regex = new RegExp(regionRegex);\n    if (regions.includes(region) || regex.test(region)) {\n      return outputs.dnsSuffix;\n    }\n  }\n  return defaultPartition.outputs.dnsSuffix;\n};\nexport { getDnsSuffix };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst AmplifyUrl = URL;\nconst AmplifyUrlSearchParams = URLSearchParams;\nexport { AmplifyUrl, AmplifyUrlSearchParams };\n", "import { getDnsSuffix } from '../../../../clients/endpoints/getDnsSuffix.mjs';\nimport '../../../../types/errors.mjs';\nimport '../../../../errors/errorHelpers.mjs';\nimport '../../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../../utils/retry/retry.mjs';\nimport '../../../../parseAWSExports.mjs';\nimport 'uuid';\nimport { AmplifyUrl } from '../../../../utils/amplifyUrl/index.mjs';\nimport '../../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../../../../Platform/index.mjs';\nimport '../../../../Platform/types.mjs';\nimport '../../../../BackgroundProcessManager/types.mjs';\nimport '../../../../Reachability/Reachability.mjs';\nimport '../../../../Hub/index.mjs';\nimport '../../../../utils/sessionListener/index.mjs';\nimport { COGNITO_IDENTITY_SERVICE_NAME } from './constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst cognitoIdentityPoolEndpointResolver = ({\n  region\n}) => ({\n  url: new AmplifyUrl(`https://${COGNITO_IDENTITY_SERVICE_NAME}.${region}.${getDnsSuffix(region)}`)\n});\nexport { cognitoIdentityPoolEndpointResolver };\n", "import { AmplifyErrorCode } from '../types/errors.mjs';\nimport { AmplifyError } from './AmplifyError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass PlatformNotSupportedError extends AmplifyError {\n  constructor() {\n    super({\n      name: AmplifyErrorCode.PlatformNotSupported,\n      message: 'Function not supported on current platform'\n    });\n  }\n}\nexport { PlatformNotSupportedError };\n", "import { PlatformNotSupportedError } from '../errors/PlatformNotSupportedError.mjs';\nimport '../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass KeyValueStorage {\n  constructor(storage) {\n    this.storage = storage;\n  }\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  async setItem(key, value) {\n    if (!this.storage) throw new PlatformNotSupportedError();\n    this.storage.setItem(key, value);\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  async getItem(key) {\n    if (!this.storage) throw new PlatformNotSupportedError();\n    return this.storage.getItem(key);\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  async removeItem(key) {\n    if (!this.storage) throw new PlatformNotSupportedError();\n    this.storage.removeItem(key);\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  async clear() {\n    if (!this.storage) throw new PlatformNotSupportedError();\n    this.storage.clear();\n  }\n}\nexport { KeyValueStorage };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass InMemoryStorage {\n  constructor() {\n    this.storage = new Map();\n  }\n  get length() {\n    return this.storage.size;\n  }\n  key(index) {\n    if (index > this.length - 1) {\n      return null;\n    }\n    return Array.from(this.storage.keys())[index];\n  }\n  setItem(key, value) {\n    this.storage.set(key, value);\n  }\n  getItem(key) {\n    return this.storage.get(key) ?? null;\n  }\n  removeItem(key) {\n    this.storage.delete(key);\n  }\n  clear() {\n    this.storage.clear();\n  }\n}\nexport { InMemoryStorage };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { InMemoryStorage } from './InMemoryStorage.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n * @returns Either a reference to window.localStorage or an in-memory storage as fallback\n */\nconst logger = new ConsoleLogger('CoreStorageUtils');\nconst getLocalStorageWithFallback = () => {\n  try {\n    // Attempt to use localStorage directly\n    if (typeof window !== 'undefined' && window.localStorage) {\n      return window.localStorage;\n    }\n  } catch (e) {\n    // Handle any errors related to localStorage access\n    logger.info('localStorage not found. InMemoryStorage is used as a fallback.');\n  }\n  // Return in-memory storage as a fallback if localStorage is not accessible\n  return new InMemoryStorage();\n};\n/**\n * @internal\n * @returns Either a reference to window.sessionStorage or an in-memory storage as fallback\n */\nconst getSessionStorageWithFallback = () => {\n  try {\n    // Attempt to use sessionStorage directly\n    if (typeof window !== 'undefined' && window.sessionStorage) {\n      // Verify we can actually use it by testing access\n      window.sessionStorage.getItem('test');\n      return window.sessionStorage;\n    }\n    throw new Error('sessionStorage is not defined');\n  } catch (e) {\n    // Handle any errors related to sessionStorage access\n    logger.info('sessionStorage not found. InMemoryStorage is used as a fallback.');\n    return new InMemoryStorage();\n  }\n};\nexport { getLocalStorageWithFallback, getSessionStorageWithFallback };\n", "import { KeyValueStorage } from './KeyValueStorage.mjs';\nimport { getLocalStorageWithFallback } from './utils.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass DefaultStorage extends KeyValueStorage {\n  constructor() {\n    super(getLocalStorageWithFallback());\n  }\n}\nexport { DefaultStorage };\n", "import { KeyValueStorage } from './KeyValueStorage.mjs';\nimport { getSessionStorageWithFallback } from './utils.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass SessionStorage extends KeyValueStorage {\n  constructor() {\n    super(getSessionStorageWithFallback());\n  }\n}\nexport { SessionStorage };\n", "import { PlatformNotSupportedError } from '../errors/PlatformNotSupportedError.mjs';\nimport '../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass SyncKeyValueStorage {\n  constructor(storage) {\n    this._storage = storage;\n  }\n  get storage() {\n    if (!this._storage) throw new PlatformNotSupportedError();\n    return this._storage;\n  }\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  setItem(key, value) {\n    this.storage.setItem(key, value);\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  getItem(key) {\n    return this.storage.getItem(key);\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  removeItem(key) {\n    this.storage.removeItem(key);\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  clear() {\n    this.storage.clear();\n  }\n}\nexport { SyncKeyValueStorage };\n", "import { SyncKeyValueStorage } from './SyncKeyValueStorage.mjs';\nimport { getSessionStorageWithFallback } from './utils.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nclass SyncSessionStorage extends SyncKeyValueStorage {\n  constructor() {\n    super(getSessionStorageWithFallback());\n  }\n}\nexport { SyncSessionStorage };\n", "/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init(converter, defaultAttributes) {\n  function set(name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    attributes = assign({}, defaultAttributes, attributes);\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n    name = encodeURIComponent(name).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue;\n      }\n      stringifiedAttributes += '; ' + attributeName;\n      if (attributes[attributeName] === true) {\n        continue;\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n    return document.cookie = name + '=' + converter.write(value, name) + stringifiedAttributes;\n  }\n  function get(name) {\n    if (typeof document === 'undefined' || arguments.length && !name) {\n      return;\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n        if (name === found) {\n          break;\n        }\n      } catch (e) {}\n    }\n    return name ? jar[name] : jar;\n  }\n  return Object.create({\n    set,\n    get,\n    remove: function (name, attributes) {\n      set(name, '', assign({}, attributes, {\n        expires: -1\n      }));\n    },\n    withAttributes: function (attributes) {\n      return init(this.converter, assign({}, this.attributes, attributes));\n    },\n    withConverter: function (converter) {\n      return init(assign({}, this.converter, converter), this.attributes);\n    }\n  }, {\n    attributes: {\n      value: Object.freeze(defaultAttributes)\n    },\n    converter: {\n      value: Object.freeze(converter)\n    }\n  });\n}\nvar api = init(defaultConverter, {\n  path: '/'\n});\n/* eslint-enable no-var */\n\nexport { api as default };", "import JsCookie from 'js-cookie';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass CookieStorage {\n  constructor(data = {}) {\n    const {\n      path,\n      domain,\n      expires,\n      sameSite,\n      secure\n    } = data;\n    this.domain = domain;\n    this.path = path || '/';\n    this.expires = Object.prototype.hasOwnProperty.call(data, 'expires') ? expires : 365;\n    this.secure = Object.prototype.hasOwnProperty.call(data, 'secure') ? secure : true;\n    if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n      if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n        throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n      }\n      if (sameSite === 'none' && !this.secure) {\n        throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n      }\n      this.sameSite = sameSite;\n    }\n  }\n  async setItem(key, value) {\n    JsCookie.set(key, value, this.getData());\n  }\n  async getItem(key) {\n    const item = JsCookie.get(key);\n    return item ?? null;\n  }\n  async removeItem(key) {\n    JsCookie.remove(key, this.getData());\n  }\n  async clear() {\n    const cookie = JsCookie.get();\n    const promises = Object.keys(cookie).map(key => this.removeItem(key));\n    await Promise.all(promises);\n  }\n  getData() {\n    return {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure,\n      ...(this.sameSite && {\n        sameSite: this.sameSite\n      })\n    };\n  }\n}\nexport { CookieStorage };\n", "import { DefaultStorage } from './DefaultStorage.mjs';\nimport { InMemoryStorage } from './InMemoryStorage.mjs';\nimport { KeyValueStorage } from './KeyValueStorage.mjs';\nimport { SessionStorage } from './SessionStorage.mjs';\nimport { SyncSessionStorage } from './SyncSessionStorage.mjs';\nexport { CookieStorage } from './CookieStorage.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst defaultStorage = new DefaultStorage();\nconst sessionStorage = new SessionStorage();\nconst syncSessionStorage = new SyncSessionStorage();\nconst sharedInMemoryStorage = new KeyValueStorage(new InMemoryStorage());\nexport { defaultStorage, sessionStorage, sharedInMemoryStorage, syncSessionStorage };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Default cache config\n */\nconst defaultConfig = {\n  keyPrefix: 'aws-amplify-cache',\n  capacityInBytes: 1048576,\n  // 1MB\n  itemMaxSize: 210000,\n  // about 200kb\n  defaultTTL: 259200000,\n  // about 3 days\n  defaultPriority: 5,\n  warningThreshold: 0.8\n};\nconst currentSizeKey = 'CurSize';\nexport { currentSizeKey, defaultConfig };\n", "import { currentSizeKey } from '../constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * return the byte size of the string\n * @param str\n */\nfunction getByteLength(str) {\n  let ret = 0;\n  ret = str.length;\n  for (let i = str.length; i >= 0; i -= 1) {\n    const charCode = str.charCodeAt(i);\n    if (charCode > 0x7f && charCode <= 0x7ff) {\n      ret += 1;\n    } else if (charCode > 0x7ff && charCode <= 0xffff) {\n      ret += 2;\n    }\n    // trail surrogate\n    if (charCode >= 0xdc00 && charCode <= 0xdfff) {\n      i -= 1;\n    }\n  }\n  return ret;\n}\n/**\n * get current time\n */\nfunction getCurrentTime() {\n  const currentTime = new Date();\n  return currentTime.getTime();\n}\n/**\n * check if passed value is an integer\n */\nfunction isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\nconst getCurrentSizeKey = keyPrefix => `${keyPrefix}${currentSizeKey}`;\nexport { getByteLength, getCurrentSizeKey, getCurrentTime, isInteger };\n", "import { createAssertionFunction } from '../../errors/createAssertionFunction.mjs';\nimport '../../types/errors.mjs';\nimport '../../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar CacheErrorCode;\n(function (CacheErrorCode) {\n  CacheErrorCode[\"NoCacheItem\"] = \"NoCacheItem\";\n  CacheErrorCode[\"NullNextNode\"] = \"NullNextNode\";\n  CacheErrorCode[\"NullPreviousNode\"] = \"NullPreviousNode\";\n})(CacheErrorCode || (CacheErrorCode = {}));\nconst cacheErrorMap = {\n  [CacheErrorCode.NoCacheItem]: {\n    message: 'Item not found in the cache storage.'\n  },\n  [CacheErrorCode.NullNextNode]: {\n    message: 'Next node is null.'\n  },\n  [CacheErrorCode.NullPreviousNode]: {\n    message: 'Previous node is null.'\n  }\n};\nconst assert = createAssertionFunction(cacheErrorMap);\nexport { CacheErrorCode, assert };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { defaultConfig, currentSizeKey } from './constants.mjs';\nimport { getCurrentSizeKey, getCurrentTime, getByteLength } from './utils/cacheHelpers.mjs';\nimport { assert, CacheErrorCode } from './utils/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('StorageCache');\n/**\n * Initialization of the cache\n *\n */\nclass StorageCacheCommon {\n  /**\n   * Initialize the cache\n   *\n   * @param config - Custom configuration for this instance.\n   */\n  constructor({\n    config,\n    keyValueStorage\n  }) {\n    this.config = {\n      ...defaultConfig,\n      ...config\n    };\n    this.keyValueStorage = keyValueStorage;\n    this.sanitizeConfig();\n  }\n  getModuleName() {\n    return 'Cache';\n  }\n  /**\n   * Set custom configuration for the cache instance.\n   *\n   * @param config - customized configuration (without keyPrefix, which can't be changed)\n   *\n   * @return - the current configuration\n   */\n  configure(config) {\n    if (config) {\n      if (config.keyPrefix) {\n        logger.warn('keyPrefix can not be re-configured on an existing Cache instance.');\n      }\n      this.config = {\n        ...this.config,\n        ...config\n      };\n    }\n    this.sanitizeConfig();\n    return this.config;\n  }\n  /**\n   * return the current size of the cache\n   * @return {Promise}\n   */\n  async getCurrentCacheSize() {\n    let size = await this.getStorage().getItem(getCurrentSizeKey(this.config.keyPrefix));\n    if (!size) {\n      await this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), '0');\n      size = '0';\n    }\n    return Number(size);\n  }\n  /**\n   * Set item into cache. You can put number, string, boolean or object.\n   * The cache will first check whether has the same key.\n   * If it has, it will delete the old item and then put the new item in\n   * The cache will pop out items if it is full\n   * You can specify the cache item options. The cache will abort and output a warning:\n   * If the key is invalid\n   * If the size of the item exceeds itemMaxSize.\n   * If the value is undefined\n   * If incorrect cache item configuration\n   * If error happened with browser storage\n   *\n   * @param {String} key - the key of the item\n   * @param {Object} value - the value of the item\n   * @param {Object} [options] - optional, the specified meta-data\n   *\n   * @return {Promise}\n   */\n  async setItem(key, value, options) {\n    logger.debug(`Set item: key is ${key}, value is ${value} with options: ${options}`);\n    if (!key || key === currentSizeKey) {\n      logger.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);\n      return;\n    }\n    if (typeof value === 'undefined') {\n      logger.warn(`The value of item should not be undefined!`);\n      return;\n    }\n    const cacheItemOptions = {\n      priority: options?.priority !== undefined ? options.priority : this.config.defaultPriority,\n      expires: options?.expires !== undefined ? options.expires : this.config.defaultTTL + getCurrentTime()\n    };\n    if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n      logger.warn(`Invalid parameter: priority due to out or range. It should be within 1 and 5.`);\n      return;\n    }\n    const prefixedKey = `${this.config.keyPrefix}${key}`;\n    const item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n    // check whether this item is too big;\n    if (item.byteSize > this.config.itemMaxSize) {\n      logger.warn(`Item with key: ${key} you are trying to put into is too big!`);\n      return;\n    }\n    try {\n      // first look into the storage, if it exists, delete it.\n      const val = await this.getStorage().getItem(prefixedKey);\n      if (val) {\n        await this.removeCacheItem(prefixedKey, JSON.parse(val).byteSize);\n      }\n      // check whether the cache is full\n      if (await this.isCacheFull(item.byteSize)) {\n        const validKeys = await this.clearInvalidAndGetRemainingKeys();\n        if (await this.isCacheFull(item.byteSize)) {\n          const sizeToPop = await this.sizeToPop(item.byteSize);\n          await this.popOutItems(validKeys, sizeToPop);\n        }\n      }\n      // put item in the cache\n      return this.setCacheItem(prefixedKey, item);\n    } catch (e) {\n      logger.warn(`setItem failed! ${e}`);\n    }\n  }\n  /**\n   * Get item from cache. It will return null if item doesnt exist or it has been expired.\n   * If you specified callback function in the options,\n   * then the function will be executed if no such item in the cache\n   * and finally put the return value into cache.\n   * Please make sure the callback function will return the value you want to put into the cache.\n   * The cache will abort output a warning:\n   * If the key is invalid\n   * If error happened with AsyncStorage\n   *\n   * @param {String} key - the key of the item\n   * @param {Object} [options] - the options of callback function\n   *\n   * @return {Promise} - return a promise resolves to be the value of the item\n   */\n  async getItem(key, options) {\n    logger.debug(`Get item: key is ${key} with options ${options}`);\n    let cached;\n    if (!key || key === currentSizeKey) {\n      logger.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);\n      return null;\n    }\n    const prefixedKey = `${this.config.keyPrefix}${key}`;\n    try {\n      cached = await this.getStorage().getItem(prefixedKey);\n      if (cached != null) {\n        if (await this.isExpired(prefixedKey)) {\n          // if expired, remove that item and return null\n          await this.removeCacheItem(prefixedKey, JSON.parse(cached).byteSize);\n        } else {\n          // if not expired, update its visitedTime and return the value\n          const item = await this.updateVisitedTime(JSON.parse(cached), prefixedKey);\n          return item.data;\n        }\n      }\n      if (options?.callback) {\n        const val = options.callback();\n        if (val !== null) {\n          await this.setItem(key, val, options);\n        }\n        return val;\n      }\n      return null;\n    } catch (e) {\n      logger.warn(`getItem failed! ${e}`);\n      return null;\n    }\n  }\n  /**\n   * remove item from the cache\n   * The cache will abort output a warning:\n   * If error happened with AsyncStorage\n   * @param {String} key - the key of the item\n   * @return {Promise}\n   */\n  async removeItem(key) {\n    logger.debug(`Remove item: key is ${key}`);\n    if (!key || key === currentSizeKey) {\n      logger.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);\n      return;\n    }\n    const prefixedKey = `${this.config.keyPrefix}${key}`;\n    try {\n      const val = await this.getStorage().getItem(prefixedKey);\n      if (val) {\n        await this.removeCacheItem(prefixedKey, JSON.parse(val).byteSize);\n      }\n    } catch (e) {\n      logger.warn(`removeItem failed! ${e}`);\n    }\n  }\n  /**\n   * Return all the keys owned by this cache.\n   * Will return an empty array if error occurred.\n   *\n   * @return {Promise}\n   */\n  async getAllKeys() {\n    try {\n      return await this.getAllCacheKeys();\n    } catch (e) {\n      logger.warn(`getAllkeys failed! ${e}`);\n      return [];\n    }\n  }\n  getStorage() {\n    return this.keyValueStorage;\n  }\n  /**\n   * check whether item is expired\n   *\n   * @param key - the key of the item\n   *\n   * @return true if the item is expired.\n   */\n  async isExpired(key) {\n    const text = await this.getStorage().getItem(key);\n    assert(text !== null, CacheErrorCode.NoCacheItem, `Key: ${key}`);\n    const item = JSON.parse(text);\n    if (getCurrentTime() >= item.expires) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * delete item from cache\n   *\n   * @param prefixedKey - the key of the item\n   * @param size - optional, the byte size of the item\n   */\n  async removeCacheItem(prefixedKey, size) {\n    const item = await this.getStorage().getItem(prefixedKey);\n    assert(item !== null, CacheErrorCode.NoCacheItem, `Key: ${prefixedKey}`);\n    const itemSize = size ?? JSON.parse(item).byteSize;\n    // first try to update the current size of the cache\n    await this.decreaseCurrentSizeInBytes(itemSize);\n    // try to remove the item from cache\n    try {\n      await this.getStorage().removeItem(prefixedKey);\n    } catch (removeItemError) {\n      // if some error happened, we need to rollback the current size\n      await this.increaseCurrentSizeInBytes(itemSize);\n      logger.error(`Failed to remove item: ${removeItemError}`);\n    }\n  }\n  /**\n   * produce a JSON object with meta-data and data value\n   * @param value - the value of the item\n   * @param options - optional, the specified meta-data\n   *\n   * @return - the item which has the meta-data and the value\n   */\n  fillCacheItem(key, value, options) {\n    const item = {\n      key,\n      data: value,\n      timestamp: getCurrentTime(),\n      visitedTime: getCurrentTime(),\n      priority: options.priority ?? 0,\n      expires: options.expires ?? 0,\n      type: typeof value,\n      byteSize: 0\n    };\n    // calculate byte size\n    item.byteSize = getByteLength(JSON.stringify(item));\n    // re-calculate using cache item with updated byteSize property\n    item.byteSize = getByteLength(JSON.stringify(item));\n    return item;\n  }\n  sanitizeConfig() {\n    if (this.config.itemMaxSize > this.config.capacityInBytes) {\n      logger.error('Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.');\n      this.config.itemMaxSize = defaultConfig.itemMaxSize;\n    }\n    if (this.config.defaultPriority > 5 || this.config.defaultPriority < 1) {\n      logger.error('Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.');\n      this.config.defaultPriority = defaultConfig.defaultPriority;\n    }\n    if (Number(this.config.warningThreshold) > 1 || Number(this.config.warningThreshold) < 0) {\n      logger.error('Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.');\n      this.config.warningThreshold = defaultConfig.warningThreshold;\n    }\n    // Set 5MB limit\n    const cacheLimit = 5 * 1024 * 1024;\n    if (this.config.capacityInBytes > cacheLimit) {\n      logger.error('Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.');\n      this.config.capacityInBytes = defaultConfig.capacityInBytes;\n    }\n  }\n  /**\n   * increase current size of the cache\n   *\n   * @param amount - the amount of the cache szie which need to be increased\n   */\n  async increaseCurrentSizeInBytes(amount) {\n    const size = await this.getCurrentCacheSize();\n    await this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), (size + amount).toString());\n  }\n  /**\n   * decrease current size of the cache\n   *\n   * @param amount - the amount of the cache size which needs to be decreased\n   */\n  async decreaseCurrentSizeInBytes(amount) {\n    const size = await this.getCurrentCacheSize();\n    await this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), (size - amount).toString());\n  }\n  /**\n   * update the visited time if item has been visited\n   *\n   * @param item - the item which need to be updated\n   * @param prefixedKey - the key of the item\n   *\n   * @return the updated item\n   */\n  async updateVisitedTime(item, prefixedKey) {\n    item.visitedTime = getCurrentTime();\n    await this.getStorage().setItem(prefixedKey, JSON.stringify(item));\n    return item;\n  }\n  /**\n   * put item into cache\n   *\n   * @param prefixedKey - the key of the item\n   * @param itemData - the value of the item\n   * @param itemSizeInBytes - the byte size of the item\n   */\n  async setCacheItem(prefixedKey, item) {\n    // first try to update the current size of the cache.\n    await this.increaseCurrentSizeInBytes(item.byteSize);\n    // try to add the item into cache\n    try {\n      await this.getStorage().setItem(prefixedKey, JSON.stringify(item));\n    } catch (setItemErr) {\n      // if some error happened, we need to rollback the current size\n      await this.decreaseCurrentSizeInBytes(item.byteSize);\n      logger.error(`Failed to set item ${setItemErr}`);\n    }\n  }\n  /**\n   * total space needed when poping out items\n   *\n   * @param itemSize\n   *\n   * @return total space needed\n   */\n  async sizeToPop(itemSize) {\n    const cur = await this.getCurrentCacheSize();\n    const spaceItemNeed = cur + itemSize - this.config.capacityInBytes;\n    const cacheThresholdSpace = (1 - this.config.warningThreshold) * this.config.capacityInBytes;\n    return spaceItemNeed > cacheThresholdSpace ? spaceItemNeed : cacheThresholdSpace;\n  }\n  /**\n   * see whether cache is full\n   *\n   * @param itemSize\n   *\n   * @return true if cache is full\n   */\n  async isCacheFull(itemSize) {\n    const cur = await this.getCurrentCacheSize();\n    return itemSize + cur > this.config.capacityInBytes;\n  }\n  /**\n   * get all the items we have, sort them by their priority,\n   * if priority is same, sort them by their last visited time\n   * pop out items from the low priority (5 is the lowest)\n   * @private\n   * @param keys - all the keys in this cache\n   * @param sizeToPop - the total size of the items which needed to be poped out\n   */\n  async popOutItems(keys, sizeToPop) {\n    const items = [];\n    let remainedSize = sizeToPop;\n    for (const key of keys) {\n      const val = await this.getStorage().getItem(key);\n      if (val != null) {\n        const item = JSON.parse(val);\n        items.push(item);\n      }\n    }\n    // first compare priority\n    // then compare visited time\n    items.sort((a, b) => {\n      if (a.priority > b.priority) {\n        return -1;\n      } else if (a.priority < b.priority) {\n        return 1;\n      } else {\n        if (a.visitedTime < b.visitedTime) {\n          return -1;\n        } else return 1;\n      }\n    });\n    for (const item of items) {\n      // pop out items until we have enough room for new item\n      await this.removeCacheItem(item.key, item.byteSize);\n      remainedSize -= item.byteSize;\n      if (remainedSize <= 0) {\n        return;\n      }\n    }\n  }\n  /**\n   * Scan the storage and combine the following operations for efficiency\n   *   1. Clear out all expired keys owned by this cache, not including the size key.\n   *   2. Return the remaining keys.\n   *\n   * @return The remaining valid keys\n   */\n  async clearInvalidAndGetRemainingKeys() {\n    const remainingKeys = [];\n    const keys = await this.getAllCacheKeys({\n      omitSizeKey: true\n    });\n    for (const key of keys) {\n      if (await this.isExpired(key)) {\n        await this.removeCacheItem(key);\n      } else {\n        remainingKeys.push(key);\n      }\n    }\n    return remainingKeys;\n  }\n  /**\n   * clear the entire cache\n   * The cache will abort and output a warning if error occurs\n   * @return {Promise}\n   */\n  async clear() {\n    logger.debug(`Clear Cache`);\n    try {\n      const keys = await this.getAllKeys();\n      for (const key of keys) {\n        const prefixedKey = `${this.config.keyPrefix}${key}`;\n        await this.getStorage().removeItem(prefixedKey);\n      }\n    } catch (e) {\n      logger.warn(`clear failed! ${e}`);\n    }\n  }\n}\nexport { StorageCacheCommon };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { KeyValueStorage } from '../storage/KeyValueStorage.mjs';\nimport { getLocalStorageWithFallback } from '../storage/utils.mjs';\nimport { defaultConfig } from './constants.mjs';\nimport { StorageCacheCommon } from './StorageCacheCommon.mjs';\nimport { getCurrentSizeKey, getCurrentTime } from './utils/cacheHelpers.mjs';\nimport './utils/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('StorageCache');\n/**\n * Customized storage based on the SessionStorage or LocalStorage with LRU implemented\n */\nclass StorageCache extends StorageCacheCommon {\n  /**\n   * initialize the cache\n   * @param config - the configuration of the cache\n   */\n  constructor(config) {\n    const storage = getLocalStorageWithFallback();\n    super({\n      config,\n      keyValueStorage: new KeyValueStorage(storage)\n    });\n    this.storage = storage;\n    this.getItem = this.getItem.bind(this);\n    this.setItem = this.setItem.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n  }\n  async getAllCacheKeys(options) {\n    const {\n      omitSizeKey\n    } = options ?? {};\n    const keys = [];\n    for (let i = 0; i < this.storage.length; i++) {\n      const key = this.storage.key(i);\n      if (omitSizeKey && key === getCurrentSizeKey(this.config.keyPrefix)) {\n        continue;\n      }\n      if (key?.startsWith(this.config.keyPrefix)) {\n        keys.push(key.substring(this.config.keyPrefix.length));\n      }\n    }\n    return keys;\n  }\n  /**\n   * Return a new instance of cache with customized configuration.\n   * @param {Object} config - the customized configuration\n   * @return {Object} - the new instance of Cache\n   */\n  createInstance(config) {\n    if (!config.keyPrefix || config.keyPrefix === defaultConfig.keyPrefix) {\n      logger.error('invalid keyPrefix, setting keyPrefix with timeStamp');\n      config.keyPrefix = getCurrentTime.toString();\n    }\n    return new StorageCache(config);\n  }\n}\nexport { StorageCache };\n", "import { StorageCache } from './StorageCache.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst Cache = new StorageCache();\nexport { Cache };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('I18n');\n/**\n * Language translation utility.\n */\nlet I18n$1 = class I18n {\n  constructor() {\n    /**\n     * @private\n     */\n    this._options = null;\n    /**\n     * @private\n     */\n    this._lang = null;\n    /**\n     * @private\n     */\n    this._dict = {};\n  }\n  /**\n   * Sets the default language from the configuration when required.\n   */\n  setDefaultLanguage() {\n    // Default to window language if not set in instance\n    if (!this._lang && typeof window !== 'undefined' && window && window.navigator) {\n      this._lang = window.navigator.language;\n    }\n    logger.debug(this._lang);\n  }\n  /**\n   * @method\n   * Explicitly setting language\n   * @param {String} lang\n   */\n  setLanguage(lang) {\n    this._lang = lang;\n  }\n  /**\n   * @method\n   * Get value\n   * @param {String} key\n   * @param {String} defVal - Default value\n   */\n  get(key, defVal = undefined) {\n    this.setDefaultLanguage();\n    if (!this._lang) {\n      return typeof defVal !== 'undefined' ? defVal : key;\n    }\n    const lang = this._lang;\n    let val = this.getByLanguage(key, lang);\n    if (val) {\n      return val;\n    }\n    if (lang.indexOf('-') > 0) {\n      val = this.getByLanguage(key, lang.split('-')[0]);\n    }\n    if (val) {\n      return val;\n    }\n    return typeof defVal !== 'undefined' ? defVal : key;\n  }\n  /**\n   * @method\n   * Get value according to specified language\n   * @param {String} key\n   * @param {String} language - Specified langurage to be used\n   * @param {String} defVal - Default value\n   */\n  getByLanguage(key, language, defVal = null) {\n    if (!language) {\n      return defVal;\n    }\n    const langDict = this._dict[language];\n    if (!langDict) {\n      return defVal;\n    }\n    return langDict[key];\n  }\n  /**\n   * @method\n   * Add vocabularies for one language\n   * @param {String} language - Language of the dictionary\n   * @param {Object} vocabularies - Object that has key-value as dictionary entry\n   */\n  putVocabulariesForLanguage(language, vocabularies) {\n    let langDict = this._dict[language];\n    if (!langDict) {\n      langDict = this._dict[language] = {};\n    }\n    this._dict[language] = {\n      ...langDict,\n      ...vocabularies\n    };\n  }\n  /**\n   * @method\n   * Add vocabularies for one language\n   * @param {Object} vocabularies - Object that has language as key,\n   *                                vocabularies of each language as value\n   */\n  putVocabularies(vocabularies) {\n    Object.keys(vocabularies).forEach(key => {\n      this.putVocabulariesForLanguage(key, vocabularies[key]);\n    });\n  }\n};\nexport { I18n$1 as I18n };\n", "import { createAssertionFunction } from '../errors/createAssertionFunction.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar I18nErrorCode;\n(function (I18nErrorCode) {\n  I18nErrorCode[\"NotConfigured\"] = \"NotConfigured\";\n})(I18nErrorCode || (I18nErrorCode = {}));\nconst i18nErrorMap = {\n  [I18nErrorCode.NotConfigured]: {\n    message: 'i18n is not configured.'\n  }\n};\nconst assert = createAssertionFunction(i18nErrorMap);\nexport { I18nErrorCode, assert };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { I18n as I18n$1 } from './I18n.mjs';\nimport { assert, I18nErrorCode } from './errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('I18n');\nlet _config = {\n  language: null\n};\nlet _i18n = null;\n/**\n * Export I18n APIs\n */\nclass I18n {\n  /**\n   * @static\n   * @method\n   * Configure I18n part\n   * @param {Object} config - Configuration of the I18n\n   */\n  static configure(config) {\n    logger.debug('configure I18n');\n    if (!config) {\n      return _config;\n    }\n    _config = Object.assign({}, _config, config.I18n || config);\n    I18n.createInstance();\n    return _config;\n  }\n  static getModuleName() {\n    return 'I18n';\n  }\n  /**\n   * @static\n   * @method\n   * Create an instance of I18n for the library\n   */\n  static createInstance() {\n    logger.debug('create I18n instance');\n    if (_i18n) {\n      return;\n    }\n    _i18n = new I18n$1();\n  }\n  /**\n   * @static @method\n   * Explicitly setting language\n   * @param {String} lang\n   */\n  static setLanguage(lang) {\n    I18n.checkConfig();\n    assert(!!_i18n, I18nErrorCode.NotConfigured);\n    _i18n.setLanguage(lang);\n  }\n  /**\n   * @static @method\n   * Get value\n   * @param {String} key\n   * @param {String} defVal - Default value\n   */\n  static get(key, defVal) {\n    if (!I18n.checkConfig()) {\n      return typeof defVal === 'undefined' ? key : defVal;\n    }\n    assert(!!_i18n, I18nErrorCode.NotConfigured);\n    return _i18n.get(key, defVal);\n  }\n  /**\n   * @static\n   * @method\n   * Add vocabularies for one language\n   * @param {String} language - Language of the dictionary\n   * @param {Object} vocabularies - Object that has key-value as dictionary entry\n   */\n  static putVocabulariesForLanguage(language, vocabularies) {\n    I18n.checkConfig();\n    assert(!!_i18n, I18nErrorCode.NotConfigured);\n    _i18n.putVocabulariesForLanguage(language, vocabularies);\n  }\n  /**\n   * @static\n   * @method\n   * Add vocabularies for one language\n   * @param {Object} vocabularies - Object that has language as key,\n   *                                vocabularies of each language as value\n   */\n  static putVocabularies(vocabularies) {\n    I18n.checkConfig();\n    assert(!!_i18n, I18nErrorCode.NotConfigured);\n    _i18n.putVocabularies(vocabularies);\n  }\n  static checkConfig() {\n    if (!_i18n) {\n      I18n.createInstance();\n    }\n    return true;\n  }\n}\n// Create an instance of I18n in the static class\nI18n.createInstance();\nexport { I18n };\n", "import { createAssertionFunction } from '../../errors/createAssertionFunction.mjs';\nimport '../../types/errors.mjs';\nimport '../../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar PinpointValidationErrorCode;\n(function (PinpointValidationErrorCode) {\n  PinpointValidationErrorCode[\"NoAppId\"] = \"NoAppId\";\n})(PinpointValidationErrorCode || (PinpointValidationErrorCode = {}));\nconst pinpointValidationErrorMap = {\n  [PinpointValidationErrorCode.NoAppId]: {\n    message: 'Missing application id.'\n  }\n};\nconst assert = createAssertionFunction(pinpointValidationErrorMap);\nexport { PinpointValidationErrorCode, assert };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns signed headers.\n *\n * @param headers `headers` from the request.\n * @returns List of headers included in canonical headers, separated by semicolons (;). This indicates which headers\n * are part of the signing process. Header names must use lowercase characters and must appear in alphabetical order.\n *\n * @internal\n */\nconst getSignedHeaders = headers => Object.keys(headers).map(key => key.toLowerCase()).sort().join(';');\nexport { getSignedHeaders };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// query params\nconst ALGORITHM_QUERY_PARAM = 'X-Amz-Algorithm';\nconst AMZ_DATE_QUERY_PARAM = 'X-Amz-Date';\nconst CREDENTIAL_QUERY_PARAM = 'X-Amz-Credential';\nconst EXPIRES_QUERY_PARAM = 'X-Amz-Expires';\nconst REGION_SET_PARAM = 'X-Amz-Region-Set';\nconst SIGNATURE_QUERY_PARAM = 'X-Amz-Signature';\nconst SIGNED_HEADERS_QUERY_PARAM = 'X-Amz-SignedHeaders';\nconst TOKEN_QUERY_PARAM = 'X-Amz-Security-Token';\n// headers\nconst AUTH_HEADER = 'authorization';\nconst HOST_HEADER = 'host';\nconst AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nconst TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\n// identifiers\nconst KEY_TYPE_IDENTIFIER = 'aws4_request';\nconst SHA256_ALGORITHM_IDENTIFIER = 'AWS4-HMAC-SHA256';\nconst SIGNATURE_IDENTIFIER = 'AWS4';\n// preset values\nconst EMPTY_HASH = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855';\nconst UNSIGNED_PAYLOAD = 'UNSIGNED-PAYLOAD';\nexport { ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EMPTY_HASH, EXPIRES_QUERY_PARAM, HOST_HEADER, KEY_TYPE_IDENTIFIER, REGION_SET_PARAM, SHA256_ALGORITHM_IDENTIFIER, SIGNATURE_IDENTIFIER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, UNSIGNED_PAYLOAD };\n", "import { KEY_TYPE_IDENTIFIER } from '../constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns the credential scope which restricts the resulting signature to the specified region and service.\n *\n * @param date Current date in the format 'YYYYMMDD'.\n * @param region AWS region in which the service resides.\n * @param service Service to which the signed request is being sent.\n *\n * @returns  A string representing the credential scope with format 'YYYYMMDD/region/service/aws4_request'.\n *\n * @internal\n */\nconst getCredentialScope = (date, region, service) => `${date}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`;\nexport { getCredentialScope };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns expected date strings to be used in signing.\n *\n * @param date JavaScript `Date` object.\n * @returns `FormattedDates` object containing the following:\n * - longDate: A date string in 'YYYYMMDDThhmmssZ' format\n * - shortDate: A date string in 'YYYYMMDD' format\n *\n * @internal\n */\nconst getFormattedDates = date => {\n  const longDate = date.toISOString().replace(/[:-]|\\.\\d{3}/g, '');\n  return {\n    longDate,\n    shortDate: longDate.slice(0, 8)\n  };\n};\nexport { getFormattedDates };\n", "import { getCredentialScope } from './getCredentialScope.mjs';\nimport { getFormattedDates } from './getFormattedDates.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Extracts common values used for signing both requests and urls.\n *\n * @param options `SignRequestOptions` object containing values used to construct the signature.\n * @returns Common `SigningValues` used for signing.\n *\n * @internal\n */\nconst getSigningValues = ({\n  credentials,\n  signingDate = new Date(),\n  signingRegion,\n  signingService,\n  uriEscapePath = true\n}) => {\n  // get properties from credentials\n  const {\n    accessKeyId,\n    secretAccessKey,\n    sessionToken\n  } = credentials;\n  // get formatted dates for signing\n  const {\n    longDate,\n    shortDate\n  } = getFormattedDates(signingDate);\n  // copy header and set signing properties\n  const credentialScope = getCredentialScope(shortDate, signingRegion, signingService);\n  return {\n    accessKeyId,\n    credentialScope,\n    longDate,\n    secretAccessKey,\n    sessionToken,\n    shortDate,\n    signingRegion,\n    signingService,\n    uriEscapePath\n  };\n};\nexport { getSigningValues };\n", "import { Sha256 } from '@aws-crypto/sha256-js';\nimport { toHex } from '@smithy/util-hex-encoding';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// TODO: V6 update to different crypto dependency?\n/**\n * Returns the hashed data a `Uint8Array`.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns `Uint8Array` created from the data as input to a hash function.\n */\nconst getHashedData = (key, data) => {\n  const sha256 = new Sha256(key ?? undefined);\n  sha256.update(data);\n  // TODO: V6 flip to async digest\n  const hashedData = sha256.digestSync();\n  return hashedData;\n};\n/**\n * Returns the hashed data as a hex string.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns String using lowercase hexadecimal characters created from the data as input to a hash function.\n *\n * @internal\n */\nconst getHashedDataAsHex = (key, data) => {\n  const hashedData = getHashedData(key, data);\n  return toHex(hashedData);\n};\nexport { getHashedData, getHashedDataAsHex };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns canonical headers.\n *\n * @param headers Headers from the request.\n * @returns Request headers that will be signed, and their values, separated by newline characters. Header names must\n * use lowercase characters, must appear in alphabetical order, and must be followed by a colon (:). For the values,\n * trim any leading or trailing spaces, convert sequential spaces to a single space, and separate the values\n * for a multi-value header using commas.\n *\n * @internal\n */\nconst getCanonicalHeaders = headers => Object.entries(headers).map(([key, value]) => ({\n  key: key.toLowerCase(),\n  value: value?.trim().replace(/\\s+/g, ' ') ?? ''\n})).sort((a, b) => a.key < b.key ? -1 : 1).map(entry => `${entry.key}:${entry.value}\\n`).join('');\nexport { getCanonicalHeaders };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a canonical query string.\n *\n * @param searchParams `searchParams` from the request url.\n * @returns URL-encoded query string parameters, separated by ampersands (&). Percent-encode reserved characters,\n * including the space character. Encode names and values separately. If there are empty parameters, append the equals\n * sign to the parameter name before encoding. After encoding, sort the parameters alphabetically by key name. If there\n * is no query string, use an empty string (\"\").\n *\n * @internal\n */\nconst getCanonicalQueryString = searchParams => Array.from(searchParams).sort(([keyA, valA], [keyB, valB]) => {\n  if (keyA === keyB) {\n    return valA < valB ? -1 : 1;\n  }\n  return keyA < keyB ? -1 : 1;\n}).map(([key, val]) => `${escapeUri(key)}=${escapeUri(val)}`).join('&');\nconst escapeUri = uri => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\nconst hexEncode = c => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;\nexport { getCanonicalQueryString };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a canonical uri.\n *\n * @param pathname `pathname` from request url.\n * @param uriEscapePath Whether to uri encode the path as part of canonical uri. It's used for S3 only where the\n *   pathname is already uri encoded, and the signing process is not expected to uri encode it again. Defaults to true.\n * @returns URI-encoded version of the absolute path component URL (everything between the host and the question mark\n * character (?) that starts the query string parameters). If the absolute path is empty, a forward slash character (/).\n *\n * @internal\n */\nconst getCanonicalUri = (pathname, uriEscapePath = true) => pathname ? uriEscapePath ? encodeURIComponent(pathname).replace(/%2F/g, '/') : pathname : '/';\nexport { getCanonicalUri };\n", "import { EMPTY_HASH, UNSIGNED_PAYLOAD } from '../constants.mjs';\nimport { getHashedDataAsHex } from './dataHashHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns the hashed payload.\n *\n * @param body `body` (payload) from the request.\n * @returns String created using the payload in the body of the HTTP request as input to a hash function. This string\n * uses lowercase hexadecimal characters. If the payload is empty, return precalculated result of an empty hash.\n *\n * @internal\n */\nconst getHashedPayload = body => {\n  // return precalculated empty hash if body is undefined or null\n  if (body == null) {\n    return EMPTY_HASH;\n  }\n  if (isSourceData(body)) {\n    const hashedData = getHashedDataAsHex(null, body);\n    return hashedData;\n  }\n  // Defined body is not signable. Return unsigned payload which may or may not be accepted by the service.\n  return UNSIGNED_PAYLOAD;\n};\nconst isSourceData = body => typeof body === 'string' || ArrayBuffer.isView(body) || isArrayBuffer(body);\nconst isArrayBuffer = arg => typeof ArrayBuffer === 'function' && arg instanceof ArrayBuffer || Object.prototype.toString.call(arg) === '[object ArrayBuffer]';\nexport { getHashedPayload };\n", "import { getCanonicalHeaders } from './getCanonicalHeaders.mjs';\nimport { getCanonicalQueryString } from './getCanonicalQueryString.mjs';\nimport { getCanonicalUri } from './getCanonicalUri.mjs';\nimport { getHashedPayload } from './getHashedPayload.mjs';\nimport { getSignedHeaders } from './getSignedHeaders.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a canonical request.\n *\n * @param request `HttpRequest` from which to create the canonical request from.\n * @param uriEscapePath Whether to uri encode the path as part of canonical uri. It's used for S3 only where the\n *   pathname is already uri encoded, and the signing process is not expected to uri encode it again. Defaults to true.\n * @returns String created by by concatenating the following strings, separated by newline characters:\n * - HTTPMethod\n * - CanonicalUri\n * - CanonicalQueryString\n * - CanonicalHeaders\n * - SignedHeaders\n * - HashedPayload\n *\n * @internal\n */\nconst getCanonicalRequest = ({\n  body,\n  headers,\n  method,\n  url\n}, uriEscapePath = true) => [method, getCanonicalUri(url.pathname, uriEscapePath), getCanonicalQueryString(url.searchParams), getCanonicalHeaders(headers), getSignedHeaders(headers), getHashedPayload(body)].join('\\n');\nexport { getCanonicalRequest };\n", "import { KEY_TYPE_IDENTIFIER, SIGNATURE_IDENTIFIER } from '../constants.mjs';\nimport { getHashedData } from './dataHashHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a signing key to be used for signing requests.\n *\n * @param secretAccessKey AWS secret access key from credentials.\n * @param date Current date in the format 'YYYYMMDD'.\n * @param region AWS region in which the service resides.\n * @param service Service to which the signed request is being sent.\n *\n * @returns `Uint8Array` calculated from its composite parts.\n *\n * @internal\n */\nconst getSigningKey = (secretAccessKey, date, region, service) => {\n  const key = `${SIGNATURE_IDENTIFIER}${secretAccessKey}`;\n  const dateKey = getHashedData(key, date);\n  const regionKey = getHashedData(dateKey, region);\n  const serviceKey = getHashedData(regionKey, service);\n  const signingKey = getHashedData(serviceKey, KEY_TYPE_IDENTIFIER);\n  return signingKey;\n};\nexport { getSigningKey };\n", "import { SHA256_ALGORITHM_IDENTIFIER } from '../constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a string to be signed.\n *\n * @param date Current date in the format 'YYYYMMDDThhmmssZ'.\n * @param credentialScope String representing the credential scope with format 'YYYYMMDD/region/service/aws4_request'.\n * @param hashedRequest Hashed canonical request.\n *\n * @returns A string created by by concatenating the following strings, separated by newline characters:\n * - Algorithm\n * - RequestDateTime\n * - CredentialScope\n * - HashedCanonicalRequest\n *\n * @internal\n */\nconst getStringToSign = (date, credentialScope, hashedRequest) => [SHA256_ALGORITHM_IDENTIFIER, date, credentialScope, hashedRequest].join('\\n');\nexport { getStringToSign };\n", "import { getHashedDataAsHex } from './dataHashHelpers.mjs';\nimport { getCanonicalRequest } from './getCanonicalRequest.mjs';\nimport { getSigningKey } from './getSigningKey.mjs';\nimport { getStringToSign } from './getStringToSign.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\nconst getSignature = (request, {\n  credentialScope,\n  longDate,\n  secretAccessKey,\n  shortDate,\n  signingRegion,\n  signingService,\n  uriEscapePath\n}) => {\n  // step 1: create a canonical request\n  const canonicalRequest = getCanonicalRequest(request, uriEscapePath);\n  // step 2: create a hash of the canonical request\n  const hashedRequest = getHashedDataAsHex(null, canonicalRequest);\n  // step 3: create a string to sign\n  const stringToSign = getStringToSign(longDate, credentialScope, hashedRequest);\n  // step 4: calculate the signature\n  const signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n  return signature;\n};\nexport { getSignature };\n", "import { getSignedHeaders } from './utils/getSignedHeaders.mjs';\nimport { getSigningValues } from './utils/getSigningValues.mjs';\nimport { HOST_HEADER, AMZ_DATE_HEADER, TOKEN_HEADER, SHA256_ALGORITHM_IDENTIFIER, AUTH_HEADER } from './constants.mjs';\nimport { getSignature } from './utils/getSignature.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Given a `HttpRequest`, returns a Signature Version 4 signed `HttpRequest`.\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns A `HttpRequest` with authentication headers which can grant temporary access to AWS resources.\n */\nconst signRequest = (request, options) => {\n  const signingValues = getSigningValues(options);\n  const {\n    accessKeyId,\n    credentialScope,\n    longDate,\n    sessionToken\n  } = signingValues;\n  // create the request to sign\n  const headers = {\n    ...request.headers\n  };\n  headers[HOST_HEADER] = request.url.host;\n  headers[AMZ_DATE_HEADER] = longDate;\n  if (sessionToken) {\n    headers[TOKEN_HEADER] = sessionToken;\n  }\n  const requestToSign = {\n    ...request,\n    headers\n  };\n  // calculate and add the signature to the request\n  const signature = getSignature(requestToSign, signingValues);\n  const credentialEntry = `Credential=${accessKeyId}/${credentialScope}`;\n  const signedHeadersEntry = `SignedHeaders=${getSignedHeaders(headers)}`;\n  const signatureEntry = `Signature=${signature}`;\n  headers[AUTH_HEADER] = `${SHA256_ALGORITHM_IDENTIFIER} ${credentialEntry}, ${signedHeadersEntry}, ${signatureEntry}`;\n  return requestToSign;\n};\nexport { signRequest };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a `Date` that is corrected for clock skew.\n *\n * @param systemClockOffset The offset of the system clock in milliseconds.\n *\n * @returns `Date` representing the current time adjusted by the system clock offset.\n *\n * @internal\n */\nconst getSkewCorrectedDate = systemClockOffset => new Date(Date.now() + systemClockOffset);\nexport { getSkewCorrectedDate };\n", "import { getSkewCorrectedDate } from './getSkewCorrectedDate.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// 5 mins in milliseconds. Ref: https://github.com/aws/aws-sdk-js-v3/blob/6c0f44fab30a1bb2134af47362a31332abc3666b/packages/middleware-signing/src/utils/isClockSkewed.ts#L10\nconst SKEW_WINDOW = 5 * 60 * 1000;\n/**\n * Checks if the provided date is within the skew window of 5 minutes.\n *\n * @param clockTimeInMilliseconds Time to check for skew in milliseconds.\n * @param clockOffsetInMilliseconds Offset to check clock against in milliseconds.\n *\n * @returns True if skewed. False otherwise.\n *\n * @internal\n */\nconst isClockSkewed = (clockTimeInMilliseconds, clockOffsetInMilliseconds) => Math.abs(getSkewCorrectedDate(clockOffsetInMilliseconds).getTime() - clockTimeInMilliseconds) >= SKEW_WINDOW;\nexport { isClockSkewed };\n", "import { isClockSkewed } from './isClockSkewed.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns the difference between clock time and the current system time if clock is skewed.\n *\n * @param clockTimeInMilliseconds Clock time in milliseconds.\n * @param currentSystemClockOffset Current system clock offset in milliseconds.\n *\n * @internal\n */\nconst getUpdatedSystemClockOffset = (clockTimeInMilliseconds, currentSystemClockOffset) => {\n  if (isClockSkewed(clockTimeInMilliseconds, currentSystemClockOffset)) {\n    return clockTimeInMilliseconds - Date.now();\n  }\n  return currentSystemClockOffset;\n};\nexport { getUpdatedSystemClockOffset };\n", "import { signRequest } from './signer/signatureV4/signRequest.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport { getSkewCorrectedDate } from './utils/getSkewCorrectedDate.mjs';\nimport { getUpdatedSystemClockOffset } from './utils/getUpdatedSystemClockOffset.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware that SigV4 signs request with AWS credentials, and correct system clock offset.\n * This middleware is expected to be placed after retry middleware.\n */\nconst signingMiddlewareFactory = ({\n  credentials,\n  region,\n  service,\n  uriEscapePath = true\n}) => {\n  let currentSystemClockOffset;\n  return (next, context) => async function signingMiddleware(request) {\n    currentSystemClockOffset = currentSystemClockOffset ?? 0;\n    const signRequestOptions = {\n      credentials: typeof credentials === 'function' ? await credentials({\n        forceRefresh: !!context?.isCredentialsExpired\n      }) : credentials,\n      signingDate: getSkewCorrectedDate(currentSystemClockOffset),\n      signingRegion: region,\n      signingService: service,\n      uriEscapePath\n    };\n    const signedRequest = await signRequest(request, signRequestOptions);\n    const response = await next(signedRequest);\n    // Update system clock offset if response contains date header, regardless of the status code.\n    // non-2xx response will still be returned from next handler instead of thrown, because it's\n    // only thrown by the retry middleware.\n    const dateString = getDateHeader(response);\n    if (dateString) {\n      currentSystemClockOffset = getUpdatedSystemClockOffset(Date.parse(dateString), currentSystemClockOffset);\n    }\n    return response;\n  };\n};\nconst getDateHeader = ({\n  headers\n} = {}) => headers?.date ?? headers?.Date ?? headers?.['x-amz-date'];\nexport { signingMiddlewareFactory };\n", "import { retryMiddlewareFactory } from '../../middleware/retry/retryMiddleware.mjs';\nimport '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport '../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport { amzSdkInvocationIdHeaderMiddlewareFactory } from '../../middleware/retry/amzSdkInvocationIdHeaderMiddleware.mjs';\nimport { amzSdkRequestHeaderMiddlewareFactory } from '../../middleware/retry/amzSdkRequestHeaderMiddleware.mjs';\nimport { signingMiddlewareFactory } from '../../middleware/signing/middleware.mjs';\nimport { userAgentMiddlewareFactory } from '../../middleware/userAgent/middleware.mjs';\nimport { composeTransferHandler } from '../../internal/composeTransferHandler.mjs';\nimport { fetchTransferHandler } from '../fetch.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst authenticatedHandler = composeTransferHandler(fetchTransferHandler, [userAgentMiddlewareFactory, amzSdkInvocationIdHeaderMiddlewareFactory, retryMiddlewareFactory, amzSdkRequestHeaderMiddlewareFactory, signingMiddlewareFactory]);\nexport { authenticatedHandler };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Wraps encodeURIComponent to encode additional characters to fully adhere to RFC 3986.\n * @see https://github.com/aws/aws-sdk-js-v3/blob/86b432c464150069678b25ff88d57c2ca26e75a2/packages/smithy-client/src/extended-encode-uri-component.ts#L7\n *\n * @param uri URI string to encode\n * @returns RFC 3986 encoded string\n *\n * @internal\n */\nconst extendedEncodeURIComponent = uri => {\n  // Match characters normally not encoded by `encodeURIComponent`\n  const extendedCharacters = /[!'()*]/g;\n  return encodeURIComponent(uri).replace(extendedCharacters, hexEncode);\n};\nconst hexEncode = c => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;\nexport { extendedEncodeURIComponent };\n", "import { getDnsSuffix } from '../../clients/endpoints/getDnsSuffix.mjs';\nimport { jitteredBackoff } from '../../clients/middleware/retry/jitteredBackoff.mjs';\nimport { getRetryDecider } from '../../clients/middleware/retry/defaultRetryDecider.mjs';\nimport '../../types/errors.mjs';\nimport '../../errors/errorHelpers.mjs';\nimport '../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../utils/retry/retry.mjs';\nimport '../../parseAWSExports.mjs';\nimport 'uuid';\nimport { AmplifyUrl } from '../../utils/amplifyUrl/index.mjs';\nimport '../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport { getAmplifyUserAgent } from '../../Platform/index.mjs';\nimport '../../Platform/types.mjs';\nimport '../../BackgroundProcessManager/types.mjs';\nimport '../../Reachability/Reachability.mjs';\nimport '../../Hub/index.mjs';\nimport '../../utils/sessionListener/index.mjs';\nimport { parseJsonError } from '../../clients/serde/json.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * The service name used to sign requests if the API requires authentication.\n */\nconst SERVICE_NAME = 'mobiletargeting';\n/**\n * The endpoint resolver function that returns the endpoint URL for a given region.\n */\nconst endpointResolver = ({\n  region\n}) => ({\n  url: new AmplifyUrl(`https://pinpoint.${region}.${getDnsSuffix(region)}`)\n});\n/**\n * @internal\n */\nconst defaultConfig = {\n  service: SERVICE_NAME,\n  endpointResolver,\n  retryDecider: getRetryDecider(parseJsonError),\n  computeDelay: jitteredBackoff,\n  get userAgentValue() {\n    return getAmplifyUserAgent();\n  }\n};\n/**\n * @internal\n */\nconst getSharedHeaders = () => ({\n  'content-type': 'application/json'\n});\nexport { defaultConfig, getSharedHeaders };\n", "import { authenticatedHandler } from '../../clients/handlers/aws/authenticated.mjs';\nimport { composeServiceApi } from '../../clients/internal/composeServiceApi.mjs';\nimport { extendedEncodeURIComponent } from '../../clients/middleware/signing/utils/extendedEncodeURIComponent.mjs';\nimport { parseMetadata } from '../../clients/serde/responseInfo.mjs';\nimport { parseJsonError, parseJsonBody } from '../../clients/serde/json.mjs';\nimport { AmplifyUrl } from '../../utils/amplifyUrl/index.mjs';\nimport { defaultConfig, getSharedHeaders } from './base.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst updateEndpointSerializer = ({\n  ApplicationId = '',\n  EndpointId = '',\n  EndpointRequest\n}, endpoint) => {\n  const headers = getSharedHeaders();\n  const url = new AmplifyUrl(endpoint.url);\n  url.pathname = `v1/apps/${extendedEncodeURIComponent(ApplicationId)}/endpoints/${extendedEncodeURIComponent(EndpointId)}`;\n  const body = JSON.stringify(EndpointRequest);\n  return {\n    method: 'PUT',\n    headers,\n    url,\n    body\n  };\n};\nconst updateEndpointDeserializer = async response => {\n  if (response.statusCode >= 300) {\n    const error = await parseJsonError(response);\n    throw error;\n  } else {\n    const {\n      Message,\n      RequestID\n    } = await parseJsonBody(response);\n    return {\n      MessageBody: {\n        Message,\n        RequestID\n      },\n      $metadata: parseMetadata(response)\n    };\n  }\n};\n/**\n * @internal\n */\nconst updateEndpoint = composeServiceApi(authenticatedHandler, updateEndpointSerializer, updateEndpointDeserializer, defaultConfig);\nexport { updateEndpoint };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst PROVIDER_NAME = 'pinpoint';\n/**\n * Returns a unique cache key for a particular category/appId combination.\n *\n * @internal\n */\nconst getCacheKey = (appId, category) => `${category}:${PROVIDER_NAME}:${appId}`;\nexport { getCacheKey };\n", "import { Cache } from '../../../Cache/index.mjs';\nimport { getCacheKey } from './getCacheKey.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Writes an endpoint id to a long-lived cache.\n *\n * @internal\n */\nconst cacheEndpointId = async (appId, category, endpointId) => {\n  const cacheKey = getCacheKey(appId, category);\n  // Set a longer TTL to avoid endpoint id being deleted after the default TTL (3 days)\n  // Also set its priority to the highest to reduce its chance of being deleted when cache is full\n  const ttl = 1000 * 60 * 60 * 24 * 365 * 100; // 100 years\n  const expiration = new Date().getTime() + ttl;\n  return Cache.setItem(cacheKey, endpointId, {\n    expires: expiration,\n    priority: 1\n  });\n};\nexport { cacheEndpointId };\n", "import { amplifyUuid } from '../../../utils/amplifyUuid/index.mjs';\nimport { getCacheKey } from './getCacheKey.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst createdEndpointIds = {};\n/**\n * Creates an endpoint id and guarantees multiple creations for a category returns the same uuid.\n *\n * @internal\n */\nconst createEndpointId = (appId, category) => {\n  const cacheKey = getCacheKey(appId, category);\n  if (!createdEndpointIds[cacheKey]) {\n    createdEndpointIds[cacheKey] = amplifyUuid();\n  }\n  return createdEndpointIds[cacheKey];\n};\n/**\n * Clears a created endpoint id for a category.\n *\n * @internal\n */\nconst clearCreatedEndpointId = (appId, category) => {\n  const cacheKey = getCacheKey(appId, category);\n  delete createdEndpointIds[cacheKey];\n};\nexport { clearCreatedEndpointId, createEndpointId };\n", "import { Cache } from '../../../Cache/index.mjs';\nimport { getCacheKey } from './getCacheKey.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns an endpoint id from cache or `undefined` if not found.\n *\n * @internal\n */\nconst getEndpointId = async (appId, category) => {\n  const cacheKey = getCacheKey(appId, category);\n  const cachedEndpointId = await Cache.getItem(cacheKey);\n  return cachedEndpointId ?? undefined;\n};\nexport { getEndpointId };\n", "import '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport { getClientInfo } from '../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport '../../../parseAWSExports.mjs';\nimport { amplifyUuid } from '../../../utils/amplifyUuid/index.mjs';\nimport '../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../../../Platform/index.mjs';\nimport '../../../Platform/types.mjs';\nimport '../../../BackgroundProcessManager/types.mjs';\nimport '../../../Reachability/Reachability.mjs';\nimport '../../../Hub/index.mjs';\nimport '../../../utils/sessionListener/index.mjs';\nimport '../../../awsClients/pinpoint/errorHelpers.mjs';\nimport { updateEndpoint as updateEndpoint$1 } from '../../../awsClients/pinpoint/updateEndpoint.mjs';\nimport { cacheEndpointId } from '../utils/cacheEndpointId.mjs';\nimport { createEndpointId, clearCreatedEndpointId } from '../utils/createEndpointId.mjs';\nimport { getEndpointId } from '../utils/getEndpointId.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nconst updateEndpoint = async ({\n  address,\n  appId,\n  category,\n  channelType,\n  credentials,\n  identityId,\n  optOut,\n  region,\n  userAttributes,\n  userId,\n  userProfile,\n  userAgentValue\n}) => {\n  const endpointId = await getEndpointId(appId, category);\n  // only generate a new endpoint id if one was not found in cache\n  const createdEndpointId = !endpointId ? createEndpointId(appId, category) : undefined;\n  const {\n    customProperties,\n    demographic,\n    email,\n    location,\n    metrics,\n    name,\n    plan\n  } = userProfile ?? {};\n  // only automatically populate the endpoint with client info and identity id upon endpoint creation to\n  // avoid overwriting the endpoint with these values every time the endpoint is updated\n  const demographicsFromClientInfo = {};\n  const resolvedUserId = createdEndpointId ? userId ?? identityId : userId;\n  if (createdEndpointId) {\n    const clientInfo = getClientInfo();\n    demographicsFromClientInfo.appVersion = clientInfo.appVersion;\n    demographicsFromClientInfo.make = clientInfo.make;\n    demographicsFromClientInfo.model = clientInfo.model;\n    demographicsFromClientInfo.modelVersion = clientInfo.version;\n    demographicsFromClientInfo.platform = clientInfo.platform;\n  }\n  const mergedDemographic = {\n    ...demographicsFromClientInfo,\n    ...demographic\n  };\n  const attributes = {\n    ...(email && {\n      email: [email]\n    }),\n    ...(name && {\n      name: [name]\n    }),\n    ...(plan && {\n      plan: [plan]\n    }),\n    ...customProperties\n  };\n  const shouldAddDemographics = createdEndpointId || demographic;\n  const shouldAddAttributes = email || customProperties || name || plan;\n  const shouldAddUser = resolvedUserId || userAttributes;\n  const input = {\n    ApplicationId: appId,\n    EndpointId: endpointId ?? createdEndpointId,\n    EndpointRequest: {\n      RequestId: amplifyUuid(),\n      EffectiveDate: new Date().toISOString(),\n      ChannelType: channelType,\n      Address: address,\n      ...(shouldAddAttributes && {\n        Attributes: attributes\n      }),\n      ...(shouldAddDemographics && {\n        Demographic: {\n          AppVersion: mergedDemographic.appVersion,\n          Locale: mergedDemographic.locale,\n          Make: mergedDemographic.make,\n          Model: mergedDemographic.model,\n          ModelVersion: mergedDemographic.modelVersion,\n          Platform: mergedDemographic.platform,\n          PlatformVersion: mergedDemographic.platformVersion,\n          Timezone: mergedDemographic.timezone\n        }\n      }),\n      ...(location && {\n        Location: {\n          City: location.city,\n          Country: location.country,\n          Latitude: location.latitude,\n          Longitude: location.longitude,\n          PostalCode: location.postalCode,\n          Region: location.region\n        }\n      }),\n      Metrics: metrics,\n      OptOut: optOut,\n      ...(shouldAddUser && {\n        User: {\n          UserId: resolvedUserId,\n          UserAttributes: userAttributes\n        }\n      })\n    }\n  };\n  try {\n    await updateEndpoint$1({\n      credentials,\n      region,\n      userAgentValue\n    }, input);\n    // if we had to create an endpoint id, we need to now cache it\n    if (createdEndpointId) {\n      await cacheEndpointId(appId, category, createdEndpointId);\n    }\n  } finally {\n    // at this point, we completely reset the behavior so even if the update was unsuccessful\n    // we can just start over with a newly created endpoint id\n    if (createdEndpointId) {\n      clearCreatedEndpointId(appId, category);\n    }\n  }\n};\nexport { updateEndpoint };\n", "import { AmplifyErrorCode } from '../../../types/errors.mjs';\nimport { assert } from '../../../errors/errorHelpers.mjs';\nimport { updateEndpoint } from '../apis/updateEndpoint.mjs';\nimport { getEndpointId } from './getEndpointId.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Resolves an endpoint id from cache or prepare via updateEndpoint if one does not already exist,\n * which will generate and cache an endpoint id between calls.\n *\n * @internal\n */\nconst resolveEndpointId = async ({\n  address,\n  appId,\n  category,\n  channelType,\n  credentials,\n  identityId,\n  region,\n  userAgentValue\n}) => {\n  let endpointId = await getEndpointId(appId, category);\n  if (!endpointId) {\n    await updateEndpoint({\n      address,\n      appId,\n      category,\n      channelType,\n      credentials,\n      identityId,\n      region,\n      userAgentValue\n    });\n    endpointId = await getEndpointId(appId, category);\n  }\n  assert(!!endpointId, AmplifyErrorCode.NoEndpointId);\n  return endpointId;\n};\nexport { resolveEndpointId };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Default buffer constants\nconst BUFFER_SIZE = 1000;\nconst FLUSH_SIZE = 100;\nconst FLUSH_INTERVAL = 5 * 1000; // 5s\nconst RESEND_LIMIT = 5;\nexport { BUFFER_SIZE, FLUSH_INTERVAL, FLUSH_SIZE, RESEND_LIMIT };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Utility for determining if credentials have changed.\n *\n * @internal\n */\nconst haveCredentialsChanged = (cachedCredentials, credentials) => {\n  return cachedCredentials.accessKeyId !== credentials.accessKeyId || cachedCredentials.sessionToken !== credentials.sessionToken || cachedCredentials.secretAccessKey !== credentials.secretAccessKey;\n};\nexport { haveCredentialsChanged };\n", "import { authenticatedHandler } from '../../clients/handlers/aws/authenticated.mjs';\nimport { composeServiceApi } from '../../clients/internal/composeServiceApi.mjs';\nimport { extendedEncodeURIComponent } from '../../clients/middleware/signing/utils/extendedEncodeURIComponent.mjs';\nimport { parseMetadata } from '../../clients/serde/responseInfo.mjs';\nimport { parseJsonError, parseJsonBody } from '../../clients/serde/json.mjs';\nimport { AmplifyUrl } from '../../utils/amplifyUrl/index.mjs';\nimport { defaultConfig, getSharedHeaders } from './base.mjs';\nimport { assert, PinpointValidationErrorCode } from './errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst putEventsSerializer = ({\n  ApplicationId,\n  EventsRequest\n}, endpoint) => {\n  assert(!!ApplicationId, PinpointValidationErrorCode.NoAppId);\n  const headers = getSharedHeaders();\n  const url = new AmplifyUrl(endpoint.url);\n  url.pathname = `v1/apps/${extendedEncodeURIComponent(ApplicationId)}/events`;\n  const body = JSON.stringify(EventsRequest ?? {});\n  return {\n    method: 'POST',\n    headers,\n    url,\n    body\n  };\n};\nconst putEventsDeserializer = async response => {\n  if (response.statusCode >= 300) {\n    const error = await parseJsonError(response);\n    throw error;\n  } else {\n    const {\n      Results\n    } = await parseJsonBody(response);\n    return {\n      EventsResponse: {\n        Results\n      },\n      $metadata: parseMetadata(response)\n    };\n  }\n};\n/**\n * @internal\n */\nconst putEvents = composeServiceApi(authenticatedHandler, putEventsSerializer, putEventsDeserializer, defaultConfig);\nexport { putEvents };\n", "import { ConsoleLogger } from '../../../Logger/ConsoleLogger.mjs';\nimport '../../../types/errors.mjs';\nimport '../../../errors/errorHelpers.mjs';\nimport '../../../utils/getClientInfo/getClientInfo.mjs';\nimport '../../../utils/retry/retry.mjs';\nimport '../../../parseAWSExports.mjs';\nimport 'uuid';\nimport '../../../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport { haveCredentialsChanged } from '../../../utils/haveCredentialsChanged.mjs';\nimport '../../../Platform/index.mjs';\nimport '../../../Platform/types.mjs';\nimport '../../../BackgroundProcessManager/types.mjs';\nimport '../../../Reachability/Reachability.mjs';\nimport '../../../Hub/index.mjs';\nimport '../../../utils/sessionListener/index.mjs';\nimport { putEvents } from '../../../awsClients/pinpoint/putEvents.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('PinpointEventBuffer');\nconst RETRYABLE_CODES = [429, 500];\nconst ACCEPTED_CODES = [202];\nclass PinpointEventBuffer {\n  constructor(config) {\n    this._interval = undefined;\n    this._pause = false;\n    this._flush = false;\n    this._buffer = [];\n    this._config = config;\n    this._sendBatch = this._sendBatch.bind(this);\n    this._startLoop();\n  }\n  push(event) {\n    if (this._buffer.length >= this._config.bufferSize) {\n      logger.debug('Exceeded Pinpoint event buffer limits, event dropped.', {\n        eventId: event.eventId\n      });\n      return;\n    }\n    this._buffer.push({\n      [event.eventId]: event\n    });\n  }\n  pause() {\n    this._pause = true;\n  }\n  resume() {\n    this._pause = false;\n  }\n  flush() {\n    this._flush = true;\n  }\n  identityHasChanged(identityId) {\n    return this._config.identityId !== identityId;\n  }\n  haveCredentialsChanged(credentials) {\n    return haveCredentialsChanged(this._config.credentials, credentials);\n  }\n  flushAll() {\n    this._putEvents(this._buffer.splice(0, this._buffer.length));\n  }\n  _startLoop() {\n    if (this._interval) {\n      clearInterval(this._interval);\n    }\n    const {\n      flushInterval\n    } = this._config;\n    this._interval = setInterval(this._sendBatch, flushInterval);\n  }\n  _sendBatch() {\n    const bufferLength = this._buffer.length;\n    if (this._flush && !bufferLength && this._interval) {\n      clearInterval(this._interval);\n    }\n    if (this._pause || !bufferLength || false) {\n      return;\n    }\n    const {\n      flushSize\n    } = this._config;\n    const batchSize = Math.min(flushSize, bufferLength);\n    const bufferSubset = this._buffer.splice(0, batchSize);\n    this._putEvents(bufferSubset);\n  }\n  async _putEvents(buffer) {\n    const eventMap = this._bufferToMap(buffer);\n    const batchEventParams = this._generateBatchEventParams(eventMap);\n    try {\n      const {\n        credentials,\n        region,\n        userAgentValue\n      } = this._config;\n      const data = await putEvents({\n        credentials,\n        region,\n        userAgentValue\n      }, batchEventParams);\n      this._processPutEventsSuccessResponse(data, eventMap);\n    } catch (err) {\n      this._handlePutEventsFailure(err, eventMap);\n    }\n  }\n  _generateBatchEventParams(eventMap) {\n    const batchItem = {};\n    Object.values(eventMap).forEach(item => {\n      const {\n        event,\n        timestamp,\n        endpointId,\n        eventId,\n        session\n      } = item;\n      const {\n        name,\n        attributes,\n        metrics\n      } = event;\n      batchItem[endpointId] = {\n        Endpoint: {\n          ...batchItem[endpointId]?.Endpoint\n        },\n        Events: {\n          ...batchItem[endpointId]?.Events,\n          [eventId]: {\n            EventType: name,\n            Timestamp: new Date(timestamp).toISOString(),\n            Attributes: attributes,\n            Metrics: metrics,\n            Session: session\n          }\n        }\n      };\n    });\n    return {\n      ApplicationId: this._config.appId,\n      EventsRequest: {\n        BatchItem: batchItem\n      }\n    };\n  }\n  _handlePutEventsFailure(err, eventMap) {\n    logger.debug('putEvents call to Pinpoint failed.', err);\n    const statusCode = err.$metadata && err.$metadata.httpStatusCode;\n    if (RETRYABLE_CODES.includes(statusCode)) {\n      const retryableEvents = Object.values(eventMap);\n      this._retry(retryableEvents);\n    }\n  }\n  _processPutEventsSuccessResponse(data, eventMap) {\n    const {\n      Results = {}\n    } = data.EventsResponse ?? {};\n    const retryableEvents = [];\n    Object.entries(Results).forEach(([_, endpointValues]) => {\n      const responses = endpointValues.EventsItemResponse ?? {};\n      Object.entries(responses).forEach(([eventId, eventValues]) => {\n        const eventObject = eventMap[eventId];\n        if (!eventObject) {\n          return;\n        }\n        const {\n          StatusCode,\n          Message\n        } = eventValues ?? {};\n        if (StatusCode && ACCEPTED_CODES.includes(StatusCode)) {\n          return;\n        }\n        if (StatusCode && RETRYABLE_CODES.includes(StatusCode)) {\n          retryableEvents.push(eventObject);\n          return;\n        }\n        const {\n          name\n        } = eventObject.event;\n        logger.warn('Pinpoint event failed to send.', {\n          eventId,\n          name,\n          message: Message\n        });\n      });\n    });\n    if (retryableEvents.length) {\n      this._retry(retryableEvents);\n    }\n  }\n  _retry(retryableEvents) {\n    // retryable events that haven't reached the resendLimit\n    const eligibleEvents = [];\n    retryableEvents.forEach(bufferedEvent => {\n      const {\n        eventId\n      } = bufferedEvent;\n      const {\n        name\n      } = bufferedEvent.event;\n      if (bufferedEvent.resendLimit-- > 0) {\n        logger.debug('Resending event.', {\n          eventId,\n          name,\n          remainingAttempts: bufferedEvent.resendLimit\n        });\n        eligibleEvents.push({\n          [eventId]: bufferedEvent\n        });\n        return;\n      }\n      logger.debug('No retry attempts remaining for event.', {\n        eventId,\n        name\n      });\n    });\n    // add the events to the front of the buffer\n    this._buffer.unshift(...eligibleEvents);\n  }\n  _bufferToMap(buffer) {\n    return buffer.reduce((acc, curVal) => {\n      const [[key, value]] = Object.entries(curVal);\n      acc[key] = value;\n      return acc;\n    }, {});\n  }\n}\nexport { PinpointEventBuffer };\n", "import { PinpointEventBuffer } from './PinpointEventBuffer.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Map of buffers by region -> appId\nconst eventBufferMap = {};\n/**\n * Returns a PinpointEventBuffer instance for the specified region & app ID, creating one if it does not yet exist.\n *\n * @internal\n */\nconst getEventBuffer = ({\n  appId,\n  region,\n  credentials,\n  bufferSize,\n  flushInterval,\n  flushSize,\n  resendLimit,\n  identityId,\n  userAgentValue\n}) => {\n  if (eventBufferMap[region]?.[appId]) {\n    const buffer = eventBufferMap[region][appId];\n    /*\n    If the identity or credentials has changed flush out the buffer and create a new instance. The old instance will be garbage\n    collected.\n    */\n    const shouldFlushBuffer = buffer.identityHasChanged(identityId) || buffer.haveCredentialsChanged(credentials);\n    if (shouldFlushBuffer) {\n      buffer.flush();\n    } else {\n      return buffer;\n    }\n  }\n  const buffer = new PinpointEventBuffer({\n    appId,\n    bufferSize,\n    credentials,\n    flushInterval,\n    flushSize,\n    identityId,\n    region,\n    resendLimit,\n    userAgentValue\n  });\n  if (!eventBufferMap[region]) {\n    eventBufferMap[region] = {};\n  }\n  eventBufferMap[region][appId] = buffer;\n  return buffer;\n};\nexport { getEventBuffer };\n", "import { amplifyUuid } from '../../../utils/amplifyUuid/index.mjs';\nimport '../../../Cache/index.mjs';\nimport { resolveEndpointId } from '../utils/resolveEndpointId.mjs';\nimport '../../../utils/sessionListener/index.mjs';\nimport { RESEND_LIMIT, BUFFER_SIZE, FLUSH_INTERVAL, FLUSH_SIZE } from '../utils/constants.mjs';\nimport { getEventBuffer } from '../utils/getEventBuffer.mjs';\nimport { SESSION_STOP_EVENT, SESSION_START_EVENT } from '../../../utils/sessionListener/constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nlet session;\n/**\n * @internal\n */\nconst record = async ({\n  appId,\n  category,\n  channelType,\n  credentials,\n  event,\n  identityId,\n  region,\n  userAgentValue,\n  bufferSize,\n  flushInterval,\n  flushSize,\n  resendLimit\n}) => {\n  let eventSession = session;\n  const currentTime = new Date();\n  const timestampISOString = currentTime.toISOString();\n  const eventId = amplifyUuid();\n  // Prepare event buffer if required\n  const buffer = getEventBuffer({\n    appId,\n    region,\n    credentials,\n    bufferSize: bufferSize ?? BUFFER_SIZE,\n    flushInterval: flushInterval ?? FLUSH_INTERVAL,\n    flushSize: flushSize ?? FLUSH_SIZE,\n    resendLimit: resendLimit ?? RESEND_LIMIT,\n    identityId,\n    userAgentValue\n  });\n  const endpointId = await resolveEndpointId({\n    appId,\n    category,\n    channelType,\n    credentials,\n    identityId,\n    region,\n    userAgentValue\n  });\n  // Generate session if required\n  if (!eventSession || event.name === SESSION_START_EVENT) {\n    const sessionId = amplifyUuid();\n    session = {\n      Id: sessionId,\n      StartTimestamp: timestampISOString\n    };\n    eventSession = session;\n  }\n  // Terminate session when required\n  if (session && event.name === SESSION_STOP_EVENT) {\n    eventSession = {\n      ...session,\n      StopTimestamp: timestampISOString,\n      Duration: currentTime.getTime() - new Date(session.StartTimestamp).getTime()\n    };\n    session = undefined;\n  }\n  // Push event to buffer\n  buffer.push({\n    eventId,\n    endpointId,\n    event,\n    session: eventSession,\n    timestamp: timestampISOString,\n    resendLimit: resendLimit ?? RESEND_LIMIT\n  });\n};\nexport { record };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar UpdateEndpointException;\n(function (UpdateEndpointException) {\n  UpdateEndpointException[\"BadRequestException\"] = \"BadRequestException\";\n  UpdateEndpointException[\"ForbiddenException\"] = \"ForbiddenException\";\n  UpdateEndpointException[\"InternalServerErrorException\"] = \"InternalServerErrorException\";\n  UpdateEndpointException[\"MethodNotAllowedException\"] = \"MethodNotAllowedException\";\n  UpdateEndpointException[\"NotFoundException\"] = \"NotFoundException\";\n  UpdateEndpointException[\"PayloadTooLargeException\"] = \"PayloadTooLargeException\";\n  UpdateEndpointException[\"TooManyRequestsException\"] = \"TooManyRequestsException\";\n})(UpdateEndpointException || (UpdateEndpointException = {}));\nexport { UpdateEndpointException };\n", "import { createAssertionFunction } from '../errors/createAssertionFunction.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar ServiceWorkerErrorCode;\n(function (ServiceWorkerErrorCode) {\n  ServiceWorkerErrorCode[\"UndefinedInstance\"] = \"UndefinedInstance\";\n  ServiceWorkerErrorCode[\"UndefinedRegistration\"] = \"UndefinedRegistration\";\n  ServiceWorkerErrorCode[\"Unavailable\"] = \"Unavailable\";\n})(ServiceWorkerErrorCode || (ServiceWorkerErrorCode = {}));\nconst serviceWorkerErrorMap = {\n  [ServiceWorkerErrorCode.UndefinedInstance]: {\n    message: 'Service Worker instance is undefined.'\n  },\n  [ServiceWorkerErrorCode.UndefinedRegistration]: {\n    message: 'Service Worker registration is undefined.'\n  },\n  [ServiceWorkerErrorCode.Unavailable]: {\n    message: 'Service Worker not available.'\n  }\n};\nconst assert = createAssertionFunction(serviceWorkerErrorMap);\nexport { ServiceWorkerErrorCode, assert };\n", "import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport { AmplifyError } from '../errors/AmplifyError.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\nimport '../utils/getClientInfo/getClientInfo.mjs';\nimport { isBrowser } from '../utils/isBrowser.mjs';\nimport '../utils/retry/retry.mjs';\nimport '../parseAWSExports.mjs';\nimport 'uuid';\nimport '../singleton/Auth/utils/errorHelpers.mjs';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../Platform/index.mjs';\nimport '../Platform/types.mjs';\nimport '../BackgroundProcessManager/types.mjs';\nimport '../Reachability/Reachability.mjs';\nimport '../Hub/index.mjs';\nimport '../utils/sessionListener/index.mjs';\nimport '../awsClients/pinpoint/errorHelpers.mjs';\nimport '../Cache/index.mjs';\nimport { record } from '../providers/pinpoint/apis/record.mjs';\nimport '../providers/pinpoint/utils/PinpointEventBuffer.mjs';\nimport '../providers/pinpoint/types/errors.mjs';\nimport { Amplify } from '../singleton/Amplify.mjs';\nimport { fetchAuthSession } from '../singleton/apis/fetchAuthSession.mjs';\nimport { assert, ServiceWorkerErrorCode } from './errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Provides a means to registering a service worker in the browser\n * and communicating with it via postMessage events.\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/\n *\n * postMessage events are currently not supported in all browsers. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n *\n * At the minmum this class will register the service worker and listen\n * and attempt to dispatch messages on state change and record analytics\n * events based on the service worker lifecycle.\n */\nclass ServiceWorkerClass {\n  constructor() {\n    // The AWS Amplify logger\n    this._logger = new ConsoleLogger('ServiceWorker');\n  }\n  /**\n   * Get the currently active service worker\n   */\n  get serviceWorker() {\n    assert(this._serviceWorker !== undefined, ServiceWorkerErrorCode.UndefinedInstance);\n    return this._serviceWorker;\n  }\n  /**\n   * Register the service-worker.js file in the browser\n   * Make sure the service-worker.js is part of the build\n   * for example with Angular, modify the angular-cli.json file\n   * and add to \"assets\" array \"service-worker.js\"\n   * @param {string} filePath Service worker file. Defaults to \"/service-worker.js\"\n   * @param {string} scope The service worker scope. Defaults to \"/\"\n   *  - API Doc: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\n   * @returns {Promise}\n   *\t- resolve(ServiceWorkerRegistration)\n   *\t- reject(Error)\n   **/\n  register(filePath = '/service-worker.js', scope = '/') {\n    this._logger.debug(`registering ${filePath}`);\n    this._logger.debug(`registering service worker with scope ${scope}`);\n    return new Promise((resolve, reject) => {\n      if (navigator && 'serviceWorker' in navigator) {\n        navigator.serviceWorker.register(filePath, {\n          scope\n        }).then(registration => {\n          if (registration.installing) {\n            this._serviceWorker = registration.installing;\n          } else if (registration.waiting) {\n            this._serviceWorker = registration.waiting;\n          } else if (registration.active) {\n            this._serviceWorker = registration.active;\n          }\n          this._registration = registration;\n          this._setupListeners();\n          this._logger.debug(`Service Worker Registration Success: ${registration}`);\n          resolve(registration);\n        }).catch(error => {\n          this._logger.debug(`Service Worker Registration Failed ${error}`);\n          reject(new AmplifyError({\n            name: ServiceWorkerErrorCode.Unavailable,\n            message: 'Service Worker not available',\n            underlyingError: error\n          }));\n        });\n      } else {\n        reject(new AmplifyError({\n          name: ServiceWorkerErrorCode.Unavailable,\n          message: 'Service Worker not available'\n        }));\n      }\n    });\n  }\n  /**\n   * Enable web push notifications. If not subscribed, a new subscription will\n   * be created and registered.\n   * \tTest Push Server: https://web-push-codelab.glitch.me/\n   * \tPush Server Libraries: https://github.com/web-push-libs/\n   * \tAPI Doc: https://developers.google.com/web/fundamentals/codelabs/push-notifications/\n   * @param publicKey\n   * @returns {Promise}\n   * \t- resolve(PushSubscription)\n   *  - reject(Error)\n   */\n  enablePush(publicKey) {\n    assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n    this._publicKey = publicKey;\n    return new Promise((resolve, reject) => {\n      if (isBrowser()) {\n        assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n        this._registration.pushManager.getSubscription().then(subscription => {\n          if (subscription) {\n            this._subscription = subscription;\n            this._logger.debug(`User is subscribed to push: ${JSON.stringify(subscription)}`);\n            resolve(subscription);\n          } else {\n            this._logger.debug(`User is NOT subscribed to push`);\n            return this._registration.pushManager.subscribe({\n              userVisibleOnly: true,\n              applicationServerKey: this._urlB64ToUint8Array(publicKey)\n            }).then(pushManagerSubscription => {\n              this._subscription = pushManagerSubscription;\n              this._logger.debug(`User subscribed: ${JSON.stringify(pushManagerSubscription)}`);\n              resolve(pushManagerSubscription);\n            }).catch(error => {\n              this._logger.error(error);\n            });\n          }\n        });\n      } else {\n        reject(new AmplifyError({\n          name: ServiceWorkerErrorCode.Unavailable,\n          message: 'Service Worker not available'\n        }));\n      }\n    });\n  }\n  /**\n   * Convert a base64 encoded string to a Uint8 array for the push server key\n   * @param base64String\n   */\n  _urlB64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n  /**\n   * Send a message to the service worker. The service worker needs\n   * to implement `self.addEventListener('message') to handle the\n   * message. This ***currently*** does not work in Safari or IE.\n   * @param {object | string} message An arbitrary JSON object or string message to send to the service worker\n   *\t- see: https://developer.mozilla.org/en-US/docs/Web/API/Transferable\n   * @returns {Promise}\n   **/\n  send(message) {\n    if (this._serviceWorker) {\n      this._serviceWorker.postMessage(typeof message === 'object' ? JSON.stringify(message) : message);\n    }\n  }\n  /**\n   * Listen for service worker state change and message events\n   * https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state\n   **/\n  _setupListeners() {\n    this.serviceWorker.addEventListener('statechange', async () => {\n      const currentState = this.serviceWorker.state;\n      this._logger.debug(`ServiceWorker statechange: ${currentState}`);\n      const {\n        appId,\n        region,\n        bufferSize,\n        flushInterval,\n        flushSize,\n        resendLimit\n      } = Amplify.getConfig().Analytics?.Pinpoint ?? {};\n      const {\n        credentials\n      } = await fetchAuthSession();\n      if (appId && region && credentials) {\n        // Pinpoint is configured, record an event\n        record({\n          appId,\n          region,\n          category: 'Core',\n          credentials,\n          bufferSize,\n          flushInterval,\n          flushSize,\n          resendLimit,\n          event: {\n            name: 'ServiceWorker',\n            attributes: {\n              state: currentState\n            }\n          }\n        });\n      }\n    });\n    this.serviceWorker.addEventListener('message', event => {\n      this._logger.debug(`ServiceWorker message event: ${event}`);\n    });\n  }\n}\nexport { ServiceWorkerClass };\n"],
  "mappings": "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",
  "names": ["LogType", "AmplifyErrorCode", "AuthConfigurationErrorCode", "assert", "assert", "logger", "logger", "logger", "api", "URL", "version", "URL", "URL", "version", "RawSha256", "fromUtf8", "Sha256", "Framework", "Category", "AiAction", "AnalyticsAction", "ApiAction", "AuthAction", "DataStoreAction", "GeoAction", "InAppMessagingAction", "InteractionsAction", "PredictionsAction", "PubSubAction", "PushNotificationAction", "StorageAction", "api", "BackgroundProcessManagerState", "logger", "fetchAuthSession", "defaultConfig", "jitteredBackoff", "jitteredBackoff", "logger", "converter", "CacheErrorCode", "assert", "logger", "assert", "logger", "logger", "I18nErrorCode", "assert", "logger", "I18n", "assert", "PinpointValidationErrorCode", "assert", "hexEncode", "defaultConfig", "jitteredBackoff", "getSharedHeaders", "getSharedHeaders", "defaultConfig", "updateEndpoint", "updateEndpoint", "assert", "getSharedHeaders", "defaultConfig", "logger", "session", "buffer", "UpdateEndpointException", "ServiceWorkerErrorCode", "assert", "assert", "fetchAuthSession"]
}
